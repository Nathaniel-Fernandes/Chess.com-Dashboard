[{"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\index.js":"1","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\App.js":"2","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Initialize.js":"3","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\State\\store.js":"4","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\urls.js":"5","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\helpers.js":"6","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\LoadForm.js":"7","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Analyze.js":"8","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalyzeHelpers.js":"9","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalysisMetrics.js":"10","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\RecordPrototypes.js":"11","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\fen.js":"12","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Chart.js":"13","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\opening.js":"14","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Sunburst_ECO.js":"15","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\Histogram_MovePly.js":"16","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Tactics\\Table_Tactics.js":"17","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Barchart_Openings.js":"18","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ResponsiveHistogram.js":"19","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Table.js":"20","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\NameHeader.js":"21","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartSidebar.js":"22","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartContainer.js":"23","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartTabs.js":"24","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Game\\Pie_Loss.js":"25","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ResponsivePie.js":"26"},{"size":235,"mtime":1607466474208,"results":"27","hashOfConfig":"28"},{"size":2037,"mtime":1608164267219,"results":"29","hashOfConfig":"28"},{"size":3656,"mtime":1608142487436,"results":"30","hashOfConfig":"28"},{"size":3072,"mtime":1608146645043,"results":"31","hashOfConfig":"28"},{"size":579,"mtime":1607554564394,"results":"32","hashOfConfig":"28"},{"size":3047,"mtime":1608142604320,"results":"33","hashOfConfig":"28"},{"size":450,"mtime":1607486841061,"results":"34","hashOfConfig":"28"},{"size":1838,"mtime":1608143882759,"results":"35","hashOfConfig":"28"},{"size":9000,"mtime":1608066628484,"results":"36","hashOfConfig":"28"},{"size":11592,"mtime":1608068450374,"results":"37","hashOfConfig":"28"},{"size":3408,"mtime":1608145525206,"results":"38","hashOfConfig":"28"},{"size":692,"mtime":1607886954037,"results":"39","hashOfConfig":"28"},{"size":468,"mtime":1608174311420,"results":"40","hashOfConfig":"28"},{"size":2413,"mtime":1608094821688,"results":"41","hashOfConfig":"28"},{"size":2855,"mtime":1608094948598,"results":"42","hashOfConfig":"28"},{"size":2032,"mtime":1608094584257,"results":"43","hashOfConfig":"28"},{"size":1564,"mtime":1608145839648,"results":"44","hashOfConfig":"28"},{"size":4493,"mtime":1608094754003,"results":"45","hashOfConfig":"28"},{"size":360,"mtime":1608091517738,"results":"46","hashOfConfig":"28"},{"size":1953,"mtime":1608146799915,"results":"47","hashOfConfig":"28"},{"size":279,"mtime":1608151194666,"results":"48","hashOfConfig":"28"},{"size":674,"mtime":1608169322753,"results":"49","hashOfConfig":"28"},{"size":656,"mtime":1608170057415,"results":"50","hashOfConfig":"28"},{"size":222,"mtime":1608151431054,"results":"51","hashOfConfig":"28"},{"size":1410,"mtime":1608171786779,"results":"52","hashOfConfig":"28"},{"size":2478,"mtime":1608174375676,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},"gju65z",{"filePath":"58","messages":"59","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"57"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"57"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"57"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"57"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"57"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"57"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"57"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"57"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"57"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\index.js",["118"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'jotai'\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n",["119","120"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\App.js",["121","122","123","124"],"import React, { useEffect, useState } from 'react';\nimport { initializeState } from \"./BusinessLogic/Initialize\";\nimport LoadForm from './components/LoadForm';\nimport { store } from './State/store';\nimport NameHeader from './components/NameHeader'\nimport ChartContainer from './Charts/ChartContainer'\n// import Scatter_CAPS from './Charts/Scatter_CAPS'\n// import Histo_CAPS from './Charts/Histo_CAPS'\n// import Pie_Reason4Loss from './Charts/Pie_Loss'\n// import Pie_Results from './Charts/Pie_Results'\nimport Chart from './Charts/Chart'\n// import Barchart_Tactics from './Charts/Barchart_Tactics'\n// import Barchart_TacticsPhases from './Charts/Barchart_TacticsPhases'\n// import Sunburst_OpeningPercent from './Charts/Sunburst_OpeningPercent'\n// import Opening_Data from './Charts/Opening/opening'\n// import Histogram_BlundersTime from './Charts/Moves/blunders';\n// import Histogram_BlundersPly from './Charts/Moves/Histogram_MovePly'\nimport TacticsTable from './Charts/Tactics/Table_Tactics'\n\nfunction App() {\n\t// useEffect(() => {\n\t// \t// load initial state\n\t// \tinitializeState();\n\n\t// }, [])\n\n\tconst loading = store(state => state.isLoading)\n\n\tconst [initialized, setInitialized] = useState(false);\n\tconst [popupBlocker, setPopupBlocker] = useState(false);\n\t\n\tconst archive = store(state => state.GameArchive);\n\tconst gameID_arr = store(state => state.Games);\n\n\tuseEffect(() => {\n\t\tconst t = window.open('','_blank');\n\t\tif(t === null || t === undefined || !t) {\n\t\t\tsetPopupBlocker(true);\n\t\t\treturn;\n\t\t}\n\t\tt.close();\n\t\t// setTimeout()\n\t},[])\n\n  return (\n    <div className=\"App\">\n\t\t<NameHeader />\n\n\n\t\t<ChartContainer />\n\t\t{\n\t\t\t(popupBlocker) ? \"Please disable your popup blocker\" : ''\n\t\t}\n\t\t{\n\t\t\t(!initialized) ? <button onClick={() => {\n\t\t\t\tinitializeState();\n\t\t\t\tconsole.log(\"initialization\")\n\t\t\t}}>Click to Start</button> : ''\n\t\t}\n\t\t\n\t\t<p>{loading ? \"Loading\" : \"View\"}</p>\n\t\t<Chart>\n\t\t\t{/* {loading ? \"loading\" : <Histo_CAPS />} */}\n\t\t\t{loading ? \"loading\" : <TacticsTable />}\n\t\t</Chart>\t\t \n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Initialize.js",["125","126"],"import { store } from '../State/store';\r\nimport { ArchiveURL } from './urls';\r\nimport { \r\n\tColorfromGame, \r\n\tCreateURL, \r\n\tGetURL, \r\n\tIDfromURL, \r\n\tResultFromGame, \r\n\tTimeControlFromGame, \r\n\tTimeClassFromGame,\r\n\tDateFromGameSeconds,\r\n\tgetOpponentfromGame } from './helpers';\r\nimport { Analyze, AnalyzeGame } from '../BusinessLogic/Analyze';\r\n\r\nexport const timeout = (ms = 5000) => { \r\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport const initializeState = () => {\r\n\t// check if less then 100 games\r\n\tif (store.getState().Games.length < 100) {\r\n\t\t// console.log(\"hellow?\")\r\n\r\n        GetURL(CreateURL(ArchiveURL, store.getState().UserName))\r\n\t\t\t.then((res, err) => {\r\n\t\t\t\t\t// primitive error handling\r\n\t\t\t\t\tif(err) { console.warn(err); return; }\r\n\t\t\t\t\telse if(res.data.status === 404) return;\r\n\r\n\t\t\t\t\tstore.getState().setGameArchives(res.data.archives)\t\t// think a synchronous call to update Archives\r\n\t\t\t\t\tconsole.log(store.getState().GameArchive)\t\t\t\t// prints out updated state\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn GameIDfromArchive();\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\r\n\t\t\t\tfor(let i = 0; i < 25; i++) {\r\n\t\t\t\t\tAnalyzeGame(store.getState().Games[i]);\r\n\t\t\t\t\tawait timeout(1000);\r\n\t\t\t\t}\r\n\t\t\t}).then(() => {\r\n\t\t\t\tconst tacticsObj = {\r\n\t\t\t\t\tfork: store.getState().fork,\r\n\t\t\t\t\tmate: store.getState().mate,\r\n\t\t\t\t\thanging: store.getState().hanging,\r\n\t\t\t\t\trelativePin: store.getState().relativePin,\r\n\t\t\t\t\tabsolutePin: store.getState().absolutePin,\r\n\t\t\t\t\ttrapped: store.getState().trapped,\r\n\t\t\t\t\tunderdefended: store.getState().underdefended,\r\n\t\t\t\t\twinningExchange: store.getState().winningExchange,\r\n\t\t\t\t\tskewer: store.getState().skewer,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(JSON.stringify(tacticsObj, null, '  '))\r\n\t\t\t\tstore.getState().setLoadingFalse();\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\n/**\r\n * @description Adds the GameIDs to GameID array from the archive\r\n * @returns {void} A promise  \r\n * @todo don't hardcode # of games\r\n */\r\nconst GameIDfromArchive = async () => {\r\n\t\tconsole.log(\"Current Store: \", store.getState())\r\n\t\tlet archives = store.getState().GameArchive;\r\n\t\tlet i = archives.length - 1;\r\n\t\tlet gamenum = store.getState().Games.length;\r\n\t\tlet games;\r\n\r\n\t\t// TESTS\r\n\t\t// 1. <100 games\r\n\t\t// 2. >100 games\r\n\t\t// 3. multiple archives\r\n\t\t// (async _ => {\r\n\t\t\twhile(archives[i] && i >= 0 && gamenum <= 100) { \r\n\t\t\t\tconsole.log(\"GM top loop: \", gamenum)\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(archives[i])\r\n\r\n\t\t\t\tawait GetURL(archives[i])\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t//  console.log(res.data)\r\n\t\t\t\t\t\tgames = res.data.games\r\n\r\n\t\t\t\t\t\t//  console.log(games.length)\r\n\r\n\t\t\t\t\t\tfor(let j = games.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\t// validation\r\n\t\t\t\t\t\t\tif(gamenum > 100) {\tbreak;\t}\t// break if exceed limit. In future not hardcode\r\n\t\t\t\t\t\t\tif(games[j].rules !== \"chess\") { continue; } // check if rules are chess or variant\r\n\r\n\t\t\t\t\t\t\tconst id = IDfromURL(games[j].url);\r\n\t\t\t\t\t\t\tconst color = ColorfromGame(games[j], store.getState().UserName);\r\n\t\t\t\t\t\t\tconst result = ResultFromGame(games[j], color);\r\n\t\t\t\t\t\t\tconst tc = TimeControlFromGame(games[j]);\r\n\t\t\t\t\t\t\tconst tclass = TimeClassFromGame(games[j]);\r\n\t\t\t\t\t\t\tconst date = DateFromGameSeconds(games[j].end_time, true);\r\n\t\t\t\t\t\t\tconst opp = getOpponentfromGame(games[j], color)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!store.getState().Games.includes(id)) { \t// could implement binarysearch in the future\r\n\t\t\t\t\t\t\t\tstore.getState().AddGame(id, color, result, tc, tclass, date, opp);\r\n\t\t\t\t\t\t\t\tgamenum += 1;\r\n\t\t\t\t\t\t\t\tstore.getState().SetNeedAnalysis();\t// performance optim: only do once\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// console.log(\"GN in loop: \", gamenum)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\ti--;\t\r\n\t\t\t}\r\n\t\t\t// console.log(\"gameids state: \", store.getState().Games)\r\n\r\n\t\t// Analyze();\r\n}","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\State\\store.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\urls.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\helpers.js",["127","128","129"],"import axios from \"axios\";\r\n\r\n/**\r\n * @param {string} url the incomplete url\r\n * @param {string | number} replacement the replacement to fill the url\r\n * @returns {string} the completed url\r\n */\r\nexport const CreateURL = (url, replacement) => {\r\n\treturn url.replace(\"{}\", replacement);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} url The URL to get a response from\r\n * @returns {promise} Promise with requested url\r\n */\r\nexport const GetURL = async (url) => {\r\n\treturn axios.get(url);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} url The URL with a Game ID in it \r\n * @returns {number} The game id\r\n * @throws Error if too many matches (!= 1)\r\n */\r\nexport const IDfromURL = (url) => {\r\n\tconst id = url.match(/\\d{1,13}/g)\r\n\r\n\tif(id.length !== 1) {\r\n\t\tthrow {\r\n\t\t\tmessage: \"IDfromURL to many matches\",\r\n\t\t\tobj: id\r\n\t\t} \r\n\t}\r\n\r\n\treturn Number(id[0])\r\n}\r\n\r\nexport const getOpponentfromGame = (gameObj, color) => {\r\n\tif(color === \"white\") {\r\n\t\treturn gameObj?.black?.username;\r\n\t}\r\n\r\n\treturn gameObj?.white?.username\r\n}\r\n\r\n/**\r\n * @param {string} username the players username\r\n * @param {object} gameObj The game object of a game\r\n */\r\nexport const ColorfromGame = (gameObj, uname) => {\r\n\tif(uname === gameObj.white.username) {\r\n\t\treturn \"white\";\r\n\t}\r\n\r\n\telse if(uname === gameObj.black.username) {\r\n\t\treturn \"black\";\r\n\t}\r\n\r\n\telse {\r\n\t\tthrow {\r\n\t\t\tmessage: \"Cannot find username in game. Perhaps this is the wrong game ID\",\r\n\t\t\tusername: uname,\r\n\t\t\twhite: gameObj.white.username,\r\n\t\t\tblack: gameObj.black.username\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const TimeControlFromGame = (gameObj) => {\r\n\treturn gameObj.time_control;\r\n}\r\n\r\nexport const TimeClassFromGame = (gameObj) => {\r\n\treturn gameObj.time_class;\r\n}\r\n\r\nconst dateWithTimeZone = (seconds) => {\r\n\tconst date = new Date(1970,0,1);\r\n\t\tdate.setSeconds(seconds)\r\n\t\r\n\tconst timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone\r\n\tif(timeZone === undefined || timeZone === null || !timeZone) {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tconst utcDate = new Date(date.toLocaleString('en-US', { timeZone: \"UTC\" }));\r\n\tconst tzDate = new Date(date.toLocaleString('en-US', { timeZone: timeZone }));\r\n\tconst offset = utcDate.getTime() - tzDate.getTime();\r\n\r\n\tdate.setTime( date.getTime() - offset );\r\n  \r\n\treturn date;\r\n};\r\n\r\nexport const DateFromGameSeconds = (seconds, humanReadable = true) => {\r\n\t\r\n\tconst d = dateWithTimeZone(seconds)\r\n\r\n\tif(humanReadable) {\r\n\t\treturn `${d.getMonth() + 1}/${d.getDate()}/${d.getFullYear()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`\r\n\t}\r\n\r\n\tconst formatted = `${d.getFullYear()}-${d.getMonth() + 1}-${d.getDate()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`\r\n\r\n\t// console.log(formatted);\r\n\treturn formatted;\r\n\t// return gameObj.end_time;\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} gameObj the game object of a game\r\n * @param {string} color the player's color\r\n */\r\nexport const ResultFromGame = (gameObj, color) => {\r\n\t// console.log(color)\r\n\tif(color !== \"white\" && color !== \"black\") {\r\n\t\tthrow {\r\n\t\t\tmessage: \"Not a valid color\",\r\n\t\t\tcolor: color\r\n\t\t}\r\n\t}\r\n\r\n\treturn gameObj[color].result;\r\n}\r\n\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\LoadForm.js",["130"],"import React, { useState } from 'react';\r\nimport { store } from '../State/store';\r\n\r\nconst LoadForm = () => {\r\n    const [uname, setUname] = useState(\"\");\r\n\r\n    <form>\r\n        <input \r\n            type=\"text\" \r\n            value={uname} \r\n            onChange ={(e) => setUname(e.targe.value)} \r\n            placeholder=\"Player Name\" \r\n            name=\"username\"></input>\r\n        <button>Submit</button>\r\n\t</form>\r\n}\r\n\r\nexport default LoadForm;\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Analyze.js",["131","132","133","134","135","136","137","138","139"],"import { getGameData, phase, plyPercent, ValidGameID } from './AnalyzeHelpers';\r\nimport { store } from '../State/store';\r\nimport { \r\n    AnalyzeCastle, \r\n    AnalyzeClassification, \r\n    AnalyzeOpenings,\r\n    AnalyzeGamePatterns,\r\n    AnalyzeAllTactics,\r\n    AnalyzeEndgames,\r\n    AddCaps\r\n} from './AnalysisMetrics';\r\n\r\n/**\r\n * @description Analyzes the games\r\n * @param {string|number} id The id of the game to analyze\r\n */\r\nexport const AnalyzeGame = async (game) => {  \r\n    // function input validation\r\n    ValidGameID(game.id);\r\n\r\n    const data = await getGameData(game.id);\r\n    // console.log(\"game: \", game)\r\n\r\n    if(!data) {\r\n        throw {\r\n            message: `Data is undefined for ${game.id}`,\r\n            data: data,\r\n            game: game\r\n        }\r\n        // just get this to request another game\r\n    }\r\n\r\n    AddCaps(data, game);\r\n    // AnalyzeCastle(data, game);\r\n    // AnalyzeOpenings(data, game);\r\n    // AnalyzeClassification(\"blunder\", data,game);\r\n    // AnalyzeClassification(\"mistake\", data,game);\r\n    // AnalyzeClassification(\"inaccuracy\", data,game);\r\n    // AnalyzeGamePatterns(data,game);\r\n    AnalyzeAllTactics(data, game);\r\n    // AnalyzeEndgames(data, game)\r\n\r\n    // const tacticsObj = {\r\n    //     fork: store.getState().fork,\r\n    //     mate: store.getState().mate,\r\n    //     hanging: store.getState().hanging,\r\n    //     relativePin: store.getState().relativePin,\r\n    //     absolutePin: store.getState().absolutePin,\r\n    //     trapped: store.getState().trapped,\r\n    //     underdefended: store.getState().underdefended,\r\n    //     winningExchange: store.getState().winningExchange,\r\n    //     skewer: store.getState().skewer,\r\n    // }\r\n\r\n    // console.log(tacticsObj)\r\n    // console.log(JSON.stringify(tacticsObj, null, '  '))\r\n    // console.log(store.getState())\r\n\r\n}\r\n\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalyzeHelpers.js",["140","141","142","143","144","145","146","147","148","149","150","151","152"],"import { CreateURL, GetURL } from './helpers';\r\nimport { CorsProxy, GetAnalysisURL, NewAnalysisURL } from './urls'\r\nimport { store } from '../State/store'\r\n\r\n/**\r\n * \r\n * @param {string|number} id The game id\r\n * @returns {promise} The game data\r\n * @todo Need better error handling\r\n */\r\nexport const getGameData = async (id, time = 1) => {\r\n    // function input validation\r\n    ValidGameID(id);\r\n    if(time <= 0 || time >= 5) {\r\n        throw {\r\n            message: \"Invoked getGameData too many times\",\r\n            the_id: id,\r\n            the_time: time\r\n        }\r\n    }\r\n\r\n    return getGameAnalysis(id)\r\n            .then((res) => {\r\n                // console.log(\"Game data: \", res.data)\r\n\r\n                if(!res.data.data) {\r\n                    if(time === 1) {\r\n                        console.log(id);\r\n                        newAnalysis(id);\r\n                        return new Promise((resolve) => {\r\n                            setTimeout(() => { return resolve(getGameData(id,time+1))}, 61000)\r\n                        })\r\n                    }\r\n                    else if (time <= 3) {\r\n                        console.warn(`Tried to retrieve game ${id} ${time} times`)\r\n                        // if(time === 3) { newAnalysis(id); /* try to restart again */ }\r\n                        newAnalysis(id);\r\n                        \r\n                        return new Promise((resolve) => {\r\n                            setTimeout(() => { return resolve(getGameData(id,time+1))}, 61000)\r\n                        })\r\n                    }\r\n                    if (time === 4) {\r\n                        throw {\r\n                            message: `Could not retrieve game data got ${id} after 3 attempts`,\r\n                            response: res.data\r\n                        }\r\n                    }\r\n                }\r\n                // got data values\r\n                else {\r\n                    console.log(`got data for: ${id}`)\r\n                    return res.data.data.analysis;\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.warn(err.message)\r\n            });\r\n}\r\n\r\n/**\r\n * @description Opens window of the analysis report which should\r\n * start the analysis\r\n * @param {string|number} id The game id\r\n * @returns {void}\r\n */\r\nexport const newAnalysis = async ( id ) => {\r\n    ValidGameID(id);\r\n\r\n    return openWindow(CreateURL(NewAnalysisURL, id))\r\n}\r\n\r\n/**\r\n * @param {string} url opens window in new tab and closes tab after 5 seconds\r\n * @returns timer to close window\r\n * @todo add check if tab is null to handle the error\r\n */\r\nexport const openWindow = async ( url ) => {\r\n    if (typeof(url) !== \"string\") {\r\n        throw {\r\n            message: \"URL is not a valid string\",\r\n            type: typeof(url),\r\n            the_url: url\r\n        }\r\n    }\r\n\r\n    const tab = window.open(url, '_blank');\r\n    return setTimeout(() => tab.close(), 15000) // \r\n}\r\n\r\n/**\r\n * @param {number|string} id The id of the game\r\n * @returns {JSON} The json result of the request \r\n * @throws Error if id not a number\r\n */\r\nexport const getGameAnalysis = async ( id ) => {\r\n    // Check if input is valid\r\n    ValidGameID(id);\r\n\r\n    return GetURL(CreateURL(CorsProxy + GetAnalysisURL, id));\r\n}\r\n\r\n/**\r\n * \r\n * @param {number|string} id checks if the GameID is valid\r\n */\r\nexport const ValidGameID = (id) => {\r\n    if (Number(id) === NaN || Number(id) <= 1) {    // I believe 2 is the lowest game id\r\n        throw {\r\n            message: \"ID is not a valid number\",\r\n            type: typeof(id),\r\n            the_id: id\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} ply The ply to compare\r\n * @param {array} phaseArr The array of phases\r\n */\r\nexport const phase = (ply, phaseArr) => {\r\n    ply = Number(ply);\r\n    const numPhases = phaseArr.length;\r\n\r\n\r\n    if(ply === NaN || ply < 0) {\r\n        throw {\r\n            message: \"Invalid ply.\",\r\n            ply: ply\r\n        }\r\n    }\r\n\r\n\r\n    if(numPhases === 0 || ply < phaseArr[0]) {\r\n        return \"open\";\r\n    } else if(numPhases === 1 || ply < phaseArr[1]) {\r\n        return \"middle\";\r\n    } \r\n    \r\n    return \"end\";\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} ply The ply to compare\r\n * @param {number} total The total number of ply\r\n */\r\nexport const plyPercent = (ply, total) => {\r\n    ply = Number(ply)\r\n    total = Number(total)\r\n\r\n    if(ply === NaN || total === NaN) {\r\n        throw {\r\n            message: \"Invalid ply or total ply\",\r\n            ply: ply,\r\n            total: total\r\n        }\r\n    } else if(ply < 0 || total < 0) {\r\n        throw {\r\n            message: \"Ply cannot be negative\",\r\n            ply: ply,\r\n            total: total\r\n        }\r\n    }\r\n\r\n    if(total - 1 !== 0) {\r\n        return (ply / (total - 1)) * 100 // total positions includes start so -1\r\n    } \r\n    \r\n    return (ply / total) * 100\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {string} timecontrol The time control\r\n */\r\nexport const totalFromTC = (timecontrol) => {\r\n    return parseInt(timecontrol);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} timecontrol The time control\r\n */\r\nexport const incFromTC = (timecontrol) => {\r\n    let increment = parseInt(timecontrol.match(/\\+\\d*/g));\r\n        increment = (increment) ? increment : 0;\r\n\r\n    return increment;\r\n}\r\n/**\r\n * \r\n * @param {array} data array of the time for each move\r\n * @param {number} ply The current ply\r\n * @param {string} timecontrol The time control of the game\r\n * @todo check if ply is valid\r\n */\r\nexport const calculateClockTime = (times, ply, timecontrol) => {\r\n    const total = totalFromTC(timecontrol);\r\n    const increment = incFromTC(timecontrol);\r\n\r\n    if(total === NaN || total <= 0 || increment < 0) {\r\n        throw {\r\n            message: \"Invalid time control or increment\",\r\n            total: total,\r\n            increment: increment\r\n        }\r\n    }\r\n\r\n    // if(ply) \r\n\r\n\r\n    let final = total;\r\n    // console.log(final)\r\n    // gives time NOT including the time for ply\r\n    // i.e. calculates time on clock on start of ply\r\n    for(let i = ply % 2; i < ply; i += 2) { \r\n        final = final - times[i] / 10 + increment;\r\n        // console.log(final, times[i] / 10, increment)\r\n    }\r\n\r\n    return final;\r\n} \r\n\r\n\r\nexport const SameTacticType = (actual, user) => {\r\n    const regex = \"\\\\b\" + user + \"\\\\b\";\r\n    const index = actual.toLowerCase().search(new RegExp(regex))\r\n\r\n    // console.log(regex, actual, index)\r\n\r\n    if (index !== -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n    // ele.type.toLowerCase().indexOf(new RegExp(\"\\b\" + name + \"\\b\",g)) !== -1\r\n}\r\n\r\n// in major need of a refactoring\r\nexport const UpdateTacticsState = (name, record) => {\r\n    name = name.toLowerCase();\r\n    // console.log(name)\r\n\r\n    if(SameTacticType(name, \"trapped piece\")) { \r\n        record.type.name = \"trapped\";\r\n        store.getState().addTactic(\"trapped\",record); return;\r\n    }\r\n\r\n    if(SameTacticType(name, \"skewer\")) { \r\n        record.type.name = \"skewer\";\r\n        store.getState().addTactic(\"skewer\",record); return;\r\n    }\r\n\r\n    if(SameTacticType(name,\"fork\")) {\r\n        // console.log(\"added fork\", record)\r\n        // console.log(record.type.type)\r\n        // console.log(re)\r\n        record.type.name = \"fork\"; \r\n        store.getState().addTactic(\"fork\", record); return; \r\n    }\r\n\r\n    if(SameTacticType(name,\"mate\") || SameTacticType(record.type.group, \"checkmate\")) { \r\n        record.type.name = \"mate\"; \r\n        store.getState().addTactic(\"mate\", record); return; \r\n    }\r\n    if(SameTacticType(name,\"material left undefended\") || SameTacticType(name, \"undefended material\")) { \r\n        // console.log(\"added hanging\", record)\r\n        record.type.name = \"hanging\";\r\n        store.getState().addTactic(\"hanging\", record); return; \r\n    }\r\n    \r\n\r\n    if(SameTacticType(name, \"under-defended material\")) {\r\n        record.type.name = \"underdefended\";\r\n        store.getState().addTactic(\"underdefended\", record); return;\r\n    }\r\n\r\n    if(SameTacticType(name, \"winning exchange\")) {\r\n        // console.log(\"adding winning exchange\")\r\n        record.type.name = \"winning exchange\";\r\n        store.getState().addTactic(\"winningExchange\", record); return;\r\n    }\r\n\r\n    if(name.includes(\"pin\")) { \r\n        if(record.type.group.includes(\"relative\") || record.type.type.includes(\"relative\")) {\r\n            record.type.name = \"relative pin\";\r\n            store.getState().addTactic(\"relativePin\", record); return; \r\n        }\r\n        record.type.name = \"absolute pin\";\r\n        store.getState().addTactic(\"absolutePin\", record); return; \r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @description Returns the opposite color of parameter\r\n * @param {string} color The initial color\r\n */\r\nexport const oppositeColor = (color) => {\r\n    // console.log(color.toLowerCase())\r\n    if(color.toLowerCase() !== \"white\" && color.toLowerCase() !== \"black\") {\r\n        console.warn({\r\n            message: \"Not a known color\",\r\n            color: color\r\n        })\r\n    }\r\n\r\n    return (color === \"white\") ? \"black\" : \"white\";\r\n}\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalysisMetrics.js",["153","154"],"import { store } from '../State/store';\r\nimport { phase, plyPercent, calculateClockTime, totalFromTC, SameTacticType, UpdateTacticsState, oppositeColor } from './AnalyzeHelpers';\r\nimport { GetCurrentFen } from './fen';\r\nimport { CreateRecordProto, CreateTacticRecord } from './RecordPrototypes';\r\n\r\nexport const AddCaps = (data, gameObj) => {\r\n    const caps = data?.CAPS?.[gameObj.color]?.all;\r\n    if(caps === undefined) {\r\n        console.warn(`data.CAPS is undefined for ${gameObj.id} ${gameObj.color}`);\r\n        return;\r\n    }\r\n\r\n    store.getState().AddCAPStoGame(gameObj.id, caps)\r\n    // console.log(store.getState().Games)\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The returned data object\r\n * @param {object} gameObj The game object\r\n */\r\n\r\nexport const AnalyzeCastle = ( data, gameObj ) => {\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n    let plyCastled = data?.castled[gameObj.color];\r\n\r\n    if(plyCastled === undefined || plyCastled === null || !(typeof(plyCastled) === \"number\")) {\r\n        console.warn({\r\n            message: \"Ply castled is undefined (data.castled[gameObj.color])\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            plyCastled: plyCastled\r\n        })\r\n        return;\r\n    }\r\n\r\n    if(plyCastled != -1) { // -1 means did not castle\r\n        plyCastled++;   // correct for TRUE ply (data starts @ 0 when should start at 1)\r\n\r\n        record.castled = true;\r\n        record.ply = plyCastled;\r\n        record.plyPercent = plyPercent(plyCastled, data.totalPositions)\r\n        record.phase = phase(plyCastled, data.gamePhases);\r\n        \r\n        record.fen = GetCurrentFen(data, record.ply, record.id)\r\n    } else {\r\n        record.castled = false;\r\n    }\r\n\r\n    store.getState().addCastled(record);\r\n    console.log(store.getState().castled);\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {string} type \"inaccuracy, mistake, blunder\"\r\n * @param {object} data the analysis object\r\n * @param {object} gameObj the game object\r\n */\r\nexport const AnalyzeClassification = (type, data, gameObj) => {\r\n    // constants\r\n\tconst allowed = [\"blunder\", \"mistake\", \"inaccuracy\"];\r\n    const p = data?.positions;\r\n    const totalType = data?.tallies?.report?.[gameObj.color]?.[type];\r\n    \r\n    // input validation\r\n    if(!allowed.includes(type)) {\r\n        throw {\r\n            message: \"invalid move type\",\r\n            type: type\r\n        }\r\n    }\r\n\r\n    if(p === undefined || p === null || !p) {\r\n        console.warn({\r\n            message: \"positions is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            p: p\r\n        })\r\n        return;\r\n    }\r\n    if(totalType === undefined || totalType === null || !(typeof(totalType) === \"number\")) {\r\n        console.warn({\r\n            message: \"totalType is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            totalType: totalType\r\n        })\r\n        return;\r\n    }\r\n    \r\n\r\n    let count = 0;\r\n    let i = (p[0].color === gameObj.color) ? 0 : 1;\r\n    const recordProto = CreateRecordProto(data, gameObj);\r\n\r\n    if(totalType !== 0) {\r\n\r\n        while(count < totalType && i <= data.totalPositions - 2) {\r\n            if(p[i].classificationName === type) {\r\n                let record = {...recordProto};\r\n\r\n                // console.log(\"index: \", i, p[i], record)\r\n                record.score = p[i].playedMove.score;\r\n                record.difference = p[i].difference;\r\n                record.scenarios = p[i].scenarios;\r\n\r\n                record.ply = i + 1; // starts @ 0 so increment\r\n                record.plyPercent = plyPercent(record.ply, data.totalPositions)\r\n                record.phase = phase(record.ply, data.gamePhases);\r\n\r\n                record.fen = GetCurrentFen(data, record.ply, record.id)\r\n\r\n                if(data.time) {\r\n                    // console.log(\"id: \", gameObj.id, data)\r\n                    record.timeSpent = data.time.moves[i] / 10;\r\n                    record.timeToThink = calculateClockTime(data.time.moves, i, gameObj.timecontrol);\r\n                    record.timeToThinkPercent = record.timeToThink / totalFromTC(gameObj.timecontrol) * 100\r\n                }\r\n                // **************************** COME BACK AND CHECK THIS\r\n                // record.takeaway = {\r\n                //     type: data.TEP.takeaways[i]?.[0].type, // need to check\r\n                // }\r\n\r\n                // console.log(record);\r\n                store.getState().addMoveType(type, record);\r\n                count++;\r\n            }\r\n            i += 2;\r\n        }\r\n    }\r\n\r\n    console.log(store.getState()[type])\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The returned data object\r\n * @param {object} gameObj The game object\r\n */\r\nexport const AnalyzeOpenings = (data, gameObj) => {\r\n    if(data?.book === undefined) {\r\n        console.warn(`data.book undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n    if(data?.bookPly === undefined) {\r\n        console.warn(`data.book undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n\r\n    if(data?.CAPS?.[gameObj.color]?.all === undefined) {\r\n        console.warn(`data.CAPS is undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n          record.caps = data?.CAPS?.[gameObj.color]?.all;\r\n          record.name = data?.book?.name;\r\n          record.bookPly = data?.bookPly;\r\n          record.lastBookFEN = GetCurrentFen(data, record.bookPly + 1, gameObj.id)\r\n\r\n    store.getState().addOpening(record);\r\n    // console.log(store.getState().opening);\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {object} data The analysis data\r\n * @param {object} gameObj the game object\r\n */\r\nexport const AnalyzeGamePatterns = (data, gameObj) => {\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n    const d = data?.TEP?.moves?.[gameObj.color] // rename to make easier to work with\r\n\r\n    if(d === undefined || d === null || !d) {\r\n        console.warn({\r\n            message: \"data.TEP.moves[gameObj.color] is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color\r\n        })\r\n        return;\r\n    }\r\n\r\n    for(const i in d) {\r\n\r\n        let p = [];\r\n        for(const j of d[i]) {\r\n            let phs = phase(j, data.gamePhases);\r\n\r\n            if(!p.includes(phs)) { p.push(phs); }\r\n            if(p.length === 3) break;   // shortcircuit if already complete\r\n        }\r\n\r\n        record[i] = {\r\n            plyPresent: i.length,\r\n            PercentPresent: plyPercent(i.length, data.totalPositions),\r\n            phase: p\r\n        }\r\n    }\r\n\r\n    store.getState().addGamePattern(record)\r\n    // console.log(store.getState().gamePatterns)\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The data analysis object\r\n * @param {object} gameObj The game object\r\n */\r\nexport const AnalyzeAllTactics = (data, gameObj) => {\r\n    const KnownTacticsTypes = [\r\n        \"fork\", \"mate\",\"material left undefended\",\r\n        \"undefended material\",\"pin\",\"trapped piece\",\r\n        \"under-defended material\", \"winning exchange\",\r\n        \"skewer\"\r\n    ];\r\n\r\n    const p = data?.positions;\r\n    const t = data?.TEP?.takeaways;\r\n\r\n    if(p === undefined || p === null || !p) {\r\n        console.warn({\r\n            message: \"positions is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            p: p\r\n        })\r\n        return;\r\n    }\r\n\r\n    if(t === undefined || t === null || !t) {\r\n        console.warn({\r\n            message: \"takeaways is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            t: t\r\n        })\r\n        return;\r\n    }\r\n\r\n    for(let i in t) {\r\n        i = Number(i)\r\n\r\n        for(let j = 0; j < t[i].length; j++) {\r\n            const ele = t[i]?.[j]\r\n\r\n            // console.log(t, t.i, i, typeof(i), ele, ele?.color)\r\n            if (ele?.color === gameObj.color) {\r\n                // console.log(ele.type)\r\n\r\n                // warn if type is not in the known array\r\n                if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                    console.warn(\"Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                }\r\n\r\n                else {\r\n                    console.warn(ele.type)\r\n\r\n                    const record = CreateTacticRecord(i-1,ele,p,data,gameObj)\r\n                    // console.log(record);\r\n                    \r\n                    UpdateTacticsState(ele.type, record);\r\n                }\r\n            } \r\n            // NEEDS a BUNCH of refactoring, but at least it works\r\n            else if(oppositeColor(ele?.color) === gameObj.color && ele.class === \"blunders\") {\r\n                console.log(\"first\")\r\n                if(!t[i + 1] || t[i + 1].length === 0) {\r\n                    console.log(\"second\")\r\n\r\n                    // validation\r\n                    if(p[i] === undefined) {\r\n                        console.warn({\r\n                            message: \"p[i] doesn't exist\",\r\n                            i: i,\r\n                            id: gameObj.id\r\n                        })\r\n                        return;\r\n                    }\r\n\r\n                    if(p[i].playedMove.moveLan !== ele.eval.pv[0]) {\r\n                        console.log(\"third\")\r\n                        if(p[i].classificationName === \"blunder\" || p[i].classificationName === \"mistake\") {\r\n                            \r\n                                console.log(\"final\")\r\n\r\n                                // passed all the checks so now add this \r\n                                // warn if type is not in the known array\r\n                                if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                                    console.warn(\"Opp: Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                                }\r\n\r\n                                else {\r\n                                    console.log(\"fourth\")\r\n                                    console.warn(\"opp: \", ele.type)\r\n                    \r\n                                    const record = CreateTacticRecord(i,ele,p,data,gameObj,\"missed\")\r\n                                    console.log(record)\r\n\r\n                                    UpdateTacticsState(ele.type, record);\r\n                                } \r\n                        }\r\n        \r\n                    } else { // they are equal so you got the tactic\r\n                        console.log(\"final\")\r\n\r\n                        // passed all the checks so now add this \r\n                        // warn if type is not in the known array\r\n                        if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                            console.warn(\"Opp: Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                        }\r\n\r\n                        else {\r\n                            console.log(\"fourth\")\r\n                            console.warn(\"opp: \", ele.type)\r\n            \r\n                            const record = CreateTacticRecord(i,ele,p,data,gameObj,\"got\")\r\n                            console.log(record)\r\n\r\n                            UpdateTacticsState(ele.type, record);\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const AnalyzeEndgames = (data, gameObj) => {\r\n    // const record = CreateRecordProto(data, gameObj);\r\n    const d = data?.TEP?.endgames; // rename to make easier to work with\r\n\r\n    if(d.length > 0) {\r\n        console.warn(d)\r\n    }\r\n}","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\RecordPrototypes.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\fen.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Chart.js",["155"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\opening.js",["156","157","158","159"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Sunburst_ECO.js",["160"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\Histogram_MovePly.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Tactics\\Table_Tactics.js",["161","162","163"],"import React, {useState, useEffect} from 'react'\r\nimport { store } from \"../../State/store\"\r\nimport DataGrid from 'react-data-grid'\r\nimport 'react-data-grid/dist/react-data-grid.css'\r\nimport { DateFromGameSeconds } from '../../BusinessLogic/helpers'\r\nimport Table from '../Table'\r\n\r\nconst TacticsTable = () => {\r\n\r\n    const [rows, setRows] = useState([])\r\n    const tactics = store((state) => {\r\n        return [\r\n            ...state.winningExchange,\r\n            ...state.underdefended,\r\n            ...state.trapped,\r\n            ...state.hanging,\r\n            ...state.relativePin,\r\n            ...state.absolutePin,\r\n            ...state.skewer,\r\n            ...state.fork,\r\n            ...state.mate,\r\n        ]\r\n    })\r\n\r\n    useEffect(() => {\r\n        console.log(tactics)\r\n        const t = tactics.map((e, i) => {\r\n            return {\r\n                date: e.date.split(\" \")[0],\r\n                name: e.type.name,\r\n                phase: e.phase,\r\n                move: Math.ceil(e.ply / 2),\r\n                ply: e.ply,\r\n                timeLeft: e.timeToThink.toFixed(1),\r\n                timeLeftPercent: e.timeToThinkPercent.toFixed(1),\r\n                gameID: e.id,\r\n                result: e.won ? \"Won\" : \"Lost\",\r\n                eco:e.eco,\r\n                color:e.color,\r\n                opponent: e.opponent,\r\n                class: e.class,\r\n                caps: e.CAPS.toFixed(1)\r\n            }\r\n        })\r\n\r\n        setRows(() => t)\r\n    }, [])\r\n\r\n    return (\r\n        <Table data={rows} />\r\n    )\r\n\r\n}\r\n\r\nexport default TacticsTable","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Barchart_Openings.js",["164","165","166","167"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ResponsiveHistogram.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Table.js",["168","169"],"import './table.css'\r\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-balham.css';\r\n\r\nconst renderLink = (params) => {\r\n    console.log(params);\r\n    return `<a href=\"https://www.chess.com/analysis/game/live/${params.value}\" target=\"_blank\">${params.value}</a>`\r\n}\r\nconst columns = [    \r\n    {field: 'date'},\r\n    {field: 'gameID', cellRenderer: renderLink},\r\n    {field: 'name', filter: true, width: 120},\r\n    {field: 'class',filter: true,},\r\n    {field: 'phase',filter: true,},\r\n    {field: 'color',filter: true,},\r\n    {field: 'opponent',filter: true,},\r\n    {field: 'result',filter: true,},\r\n    {field: 'move'},\r\n    {field: 'ply'},\r\n    {field: 'timeLeft', headerName: 'Time Left (s)'},\r\n    {field: 'timeLeftPercent', headerName: 'Time Left (%)'},\r\n    {field: 'eco',headerName:\"ECO\",filter: true,},\r\n    {field: 'caps', headerName:\"CAPS Score\"},\r\n]\r\n\r\nconst defaultCol = {\r\n    sortable: true,\r\n    // floatingFilter: true,\r\n    resizable: true,\r\n    width: 100,\r\n    cellStyle: {\r\n        // border: '1px solid',\r\n        border: 'solid',\r\n        borderTopWidth: '0.5px',\r\n        borderRightWidth: '0.5px',\r\n        borderLeftWidth: '0.5px',\r\n        borderBottomWidth: '0.5px',\r\n        textAlign: \"center\"\r\n    },\r\n    cellClass: \"grid-cell-centered\"\r\n}\r\n\r\nconst Table = ({ data, customRows, width = 800, height = 400}) => {\r\n    const onFirstDataRendered = (params) => {\r\n        params.api.sizeColumnsToFit();\r\n    }\r\n    \r\n    const gridOptions = {\r\n        defaultColDef: defaultCol,\r\n        // onFirstDataRendered: onFirstDataRendered,\r\n        columnDefs: columns\r\n    }\r\n\r\n    return (\r\n        <div className=\"ag-theme-balham\" style={{ height: height, width: width }}>\r\n            <AgGridReact rowData={data} gridOptions={gridOptions}>\r\n            </AgGridReact>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\NameHeader.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartSidebar.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartContainer.js",["170"],"import React, { useState } from 'react'\r\nimport Chart from './Chart'\r\nimport ChartSidebar from './ChartSidebar';\r\nimport ChartTabs from './ChartTabs'\r\nimport '../App.css'\r\n\r\nconst ChartContainer = () => {\r\n\r\n    const [Tab, setTab] = useState('charts');\r\n    const [chart, setChart] = useState('Game_Pie_Loss')\r\n\r\n    return (\r\n        <div className=\"dashboard-center\">\r\n            <div className=\"chart-container\">\r\n                <ChartTabs setTab={setTab} />\r\n                <Chart className=\"main-chart\" chart={chart}/>\r\n            </div>\r\n            <ChartSidebar setChart={setChart} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChartContainer","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ChartTabs.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Game\\Pie_Loss.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\ResponsivePie.js",["171","172"],{"ruleId":"173","severity":1,"message":"174","line":4,"column":10,"nodeType":"175","messageId":"176","endLine":4,"endColumn":18},{"ruleId":"177","replacedBy":"178"},{"ruleId":"179","replacedBy":"180"},{"ruleId":"173","severity":1,"message":"181","line":3,"column":8,"nodeType":"175","messageId":"176","endLine":3,"endColumn":16},{"ruleId":"173","severity":1,"message":"182","line":29,"column":22,"nodeType":"175","messageId":"176","endLine":29,"endColumn":36},{"ruleId":"173","severity":1,"message":"183","line":32,"column":8,"nodeType":"175","messageId":"176","endLine":32,"endColumn":15},{"ruleId":"173","severity":1,"message":"184","line":33,"column":8,"nodeType":"175","messageId":"176","endLine":33,"endColumn":18},{"ruleId":"173","severity":1,"message":"185","line":13,"column":10,"nodeType":"175","messageId":"176","endLine":13,"endColumn":17},{"ruleId":"186","severity":1,"message":"187","line":83,"column":12,"nodeType":"188","messageId":"189","endLine":109,"endColumn":7},{"ruleId":"190","severity":1,"message":"191","line":31,"column":3,"nodeType":"192","messageId":"193","endLine":34,"endColumn":4},{"ruleId":"190","severity":1,"message":"191","line":62,"column":3,"nodeType":"192","messageId":"193","endLine":67,"endColumn":4},{"ruleId":"190","severity":1,"message":"191","line":120,"column":3,"nodeType":"192","messageId":"193","endLine":123,"endColumn":4},{"ruleId":"173","severity":1,"message":"194","line":2,"column":10,"nodeType":"175","messageId":"176","endLine":2,"endColumn":15},{"ruleId":"173","severity":1,"message":"195","line":1,"column":23,"nodeType":"175","messageId":"176","endLine":1,"endColumn":28},{"ruleId":"173","severity":1,"message":"196","line":1,"column":30,"nodeType":"175","messageId":"176","endLine":1,"endColumn":40},{"ruleId":"173","severity":1,"message":"194","line":2,"column":10,"nodeType":"175","messageId":"176","endLine":2,"endColumn":15},{"ruleId":"173","severity":1,"message":"197","line":4,"column":5,"nodeType":"175","messageId":"176","endLine":4,"endColumn":18},{"ruleId":"173","severity":1,"message":"198","line":5,"column":5,"nodeType":"175","messageId":"176","endLine":5,"endColumn":26},{"ruleId":"173","severity":1,"message":"199","line":6,"column":5,"nodeType":"175","messageId":"176","endLine":6,"endColumn":20},{"ruleId":"173","severity":1,"message":"200","line":7,"column":5,"nodeType":"175","messageId":"176","endLine":7,"endColumn":24},{"ruleId":"173","severity":1,"message":"201","line":9,"column":5,"nodeType":"175","messageId":"176","endLine":9,"endColumn":20},{"ruleId":"190","severity":1,"message":"191","line":25,"column":9,"nodeType":"192","messageId":"193","endLine":29,"endColumn":10},{"ruleId":"190","severity":1,"message":"191","line":15,"column":9,"nodeType":"192","messageId":"193","endLine":19,"endColumn":10},{"ruleId":"190","severity":1,"message":"191","line":44,"column":25,"nodeType":"192","messageId":"193","endLine":47,"endColumn":26},{"ruleId":"190","severity":1,"message":"191","line":80,"column":9,"nodeType":"192","messageId":"193","endLine":84,"endColumn":10},{"ruleId":"202","severity":1,"message":"203","line":108,"column":9,"nodeType":"204","messageId":"205","endLine":108,"endColumn":27},{"ruleId":"190","severity":1,"message":"191","line":109,"column":9,"nodeType":"192","messageId":"193","endLine":113,"endColumn":10},{"ruleId":"202","severity":1,"message":"203","line":127,"column":8,"nodeType":"204","messageId":"205","endLine":127,"endColumn":19},{"ruleId":"190","severity":1,"message":"191","line":128,"column":9,"nodeType":"192","messageId":"193","endLine":131,"endColumn":10},{"ruleId":"202","severity":1,"message":"203","line":153,"column":8,"nodeType":"204","messageId":"205","endLine":153,"endColumn":19},{"ruleId":"202","severity":1,"message":"203","line":153,"column":23,"nodeType":"204","messageId":"205","endLine":153,"endColumn":36},{"ruleId":"190","severity":1,"message":"191","line":154,"column":9,"nodeType":"192","messageId":"193","endLine":158,"endColumn":10},{"ruleId":"190","severity":1,"message":"191","line":160,"column":9,"nodeType":"192","messageId":"193","endLine":164,"endColumn":10},{"ruleId":"202","severity":1,"message":"203","line":204,"column":8,"nodeType":"204","messageId":"205","endLine":204,"endColumn":21},{"ruleId":"190","severity":1,"message":"191","line":205,"column":9,"nodeType":"192","messageId":"193","endLine":209,"endColumn":10},{"ruleId":"206","severity":1,"message":"207","line":38,"column":19,"nodeType":"204","messageId":"208","endLine":38,"endColumn":21},{"ruleId":"190","severity":1,"message":"191","line":70,"column":9,"nodeType":"192","messageId":"193","endLine":73,"endColumn":10},{"ruleId":"209","severity":1,"message":"210","line":12,"column":25,"nodeType":"211","endLine":12,"endColumn":72},{"ruleId":"212","severity":1,"message":"213","line":22,"column":83,"nodeType":"188","messageId":"214","endLine":22,"endColumn":85},{"ruleId":"212","severity":1,"message":"213","line":40,"column":83,"nodeType":"188","messageId":"214","endLine":40,"endColumn":85},{"ruleId":"209","severity":1,"message":"215","line":68,"column":17,"nodeType":"211","endLine":68,"endColumn":61},{"ruleId":"209","severity":1,"message":"216","line":73,"column":17,"nodeType":"211","endLine":73,"endColumn":65},{"ruleId":"173","severity":1,"message":"217","line":50,"column":7,"nodeType":"175","messageId":"176","endLine":50,"endColumn":20},{"ruleId":"173","severity":1,"message":"218","line":3,"column":8,"nodeType":"175","messageId":"176","endLine":3,"endColumn":16},{"ruleId":"173","severity":1,"message":"219","line":5,"column":10,"nodeType":"175","messageId":"176","endLine":5,"endColumn":29},{"ruleId":"220","severity":1,"message":"221","line":47,"column":8,"nodeType":"222","endLine":47,"endColumn":10,"suggestions":"223"},{"ruleId":"212","severity":1,"message":"213","line":31,"column":23,"nodeType":"188","messageId":"214","endLine":31,"endColumn":25},{"ruleId":"212","severity":1,"message":"213","line":43,"column":23,"nodeType":"188","messageId":"214","endLine":43,"endColumn":25},{"ruleId":"212","severity":1,"message":"213","line":57,"column":23,"nodeType":"188","messageId":"214","endLine":57,"endColumn":25},{"ruleId":"220","severity":1,"message":"224","line":70,"column":7,"nodeType":"222","endLine":70,"endColumn":9,"suggestions":"225"},{"ruleId":"173","severity":1,"message":"226","line":2,"column":10,"nodeType":"175","messageId":"176","endLine":2,"endColumn":22},{"ruleId":"173","severity":1,"message":"227","line":45,"column":11,"nodeType":"175","messageId":"176","endLine":45,"endColumn":30},{"ruleId":"173","severity":1,"message":"228","line":9,"column":12,"nodeType":"175","messageId":"176","endLine":9,"endColumn":15},{"ruleId":"229","severity":1,"message":"230","line":68,"column":13,"nodeType":"231","endLine":68,"endColumn":38},{"ruleId":"229","severity":1,"message":"230","line":72,"column":13,"nodeType":"231","endLine":72,"endColumn":38},"no-unused-vars","'Provider' is defined but never used.","Identifier","unusedVar","no-native-reassign",["232"],"no-negated-in-lhs",["233"],"'LoadForm' is defined but never used.","'setInitialized' is assigned a value but never used.","'archive' is assigned a value but never used.","'gameID_arr' is assigned a value but never used.","'Analyze' is defined but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'games', 'games', 'gamenum', 'games', 'games', 'games', 'games', 'games', 'games', 'games', 'games', 'gamenum'.","ArrowFunctionExpression","unsafeRefs","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'store' is defined but never used.","'phase' is defined but never used.","'plyPercent' is defined but never used.","'AnalyzeCastle' is defined but never used.","'AnalyzeClassification' is defined but never used.","'AnalyzeOpenings' is defined but never used.","'AnalyzeGamePatterns' is defined but never used.","'AnalyzeEndgames' is defined but never used.","use-isnan","Use the isNaN function to compare with NaN.","BinaryExpression","comparisonWithNaN","eqeqeq","Expected '!==' and instead saw '!='.","unexpected","react/jsx-pascal-case","Imported JSX component Game_Pie_Loss must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","array-callback-return","Array.prototype.map() expects a return value from arrow function.","expectedInside","Imported JSX component Sunburst_ECO must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Barchart_Openings must be in PascalCase or SCREAMING_SNAKE_CASE","'customPalette' is assigned a value but never used.","'DataGrid' is defined but never used.","'DateFromGameSeconds' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'tactics'. Either include it or remove the dependency array.","ArrayExpression",["234"],"React Hook useEffect has missing dependencies: 'black', 'max', and 'white'. Either include them or remove the dependency array.",["235"],"'AgGridColumn' is defined but never used.","'onFirstDataRendered' is assigned a value but never used.","'Tab' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation",{"desc":"236","fix":"237"},{"desc":"238","fix":"239"},"Update the dependencies array to be: [tactics]",{"range":"240","text":"241"},"Update the dependencies array to be: [black, max, white]",{"range":"242","text":"243"},[1471,1473],"[tactics]",[2296,2298],"[black, max, white]"]