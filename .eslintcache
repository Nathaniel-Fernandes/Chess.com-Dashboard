[{"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\index.js":"1","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\App.js":"2","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Initialize.js":"3","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\State\\store.js":"4","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\urls.js":"5","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\helpers.js":"6","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\LoadForm.js":"7","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Analyze.js":"8","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalyzeHelpers.js":"9","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalysisMetrics.js":"10","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\RecordPrototypes.js":"11","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\fen.js":"12","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Chart.js":"13","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Scatter_CAPS.js":"14","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Histo_CAPS.js":"15","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Pie_Loss.js":"16","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Pie_Results.js":"17","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_Tactics.js":"18","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_TacticsPhases.js":"19","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Sunburst_OpeningPercent.js":"20","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\opening.js":"21","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Sunburst_ECO.js":"22","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_Openings.js":"23","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\blunders.js":"24","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\Histo_BlundersPly.js":"25"},{"size":235,"mtime":1607466474208,"results":"26","hashOfConfig":"27"},{"size":2049,"mtime":1608079767114,"results":"28","hashOfConfig":"27"},{"size":3565,"mtime":1607993879464,"results":"29","hashOfConfig":"27"},{"size":3038,"mtime":1608066225487,"results":"30","hashOfConfig":"27"},{"size":579,"mtime":1607554564394,"results":"31","hashOfConfig":"27"},{"size":2713,"mtime":1607971675160,"results":"32","hashOfConfig":"27"},{"size":450,"mtime":1607486841061,"results":"33","hashOfConfig":"27"},{"size":1832,"mtime":1608075520709,"results":"34","hashOfConfig":"27"},{"size":9000,"mtime":1608066628484,"results":"35","hashOfConfig":"27"},{"size":11592,"mtime":1608068450374,"results":"36","hashOfConfig":"27"},{"size":3299,"mtime":1607889548270,"results":"37","hashOfConfig":"27"},{"size":692,"mtime":1607886954037,"results":"38","hashOfConfig":"27"},{"size":235,"mtime":1607964064140,"results":"39","hashOfConfig":"27"},{"size":4195,"mtime":1607970337683,"results":"40","hashOfConfig":"27"},{"size":3585,"mtime":1608078036981,"results":"41","hashOfConfig":"27"},{"size":3892,"mtime":1607985759407,"results":"42","hashOfConfig":"27"},{"size":4088,"mtime":1607986021204,"results":"43","hashOfConfig":"27"},{"size":3592,"mtime":1608001408429,"results":"44","hashOfConfig":"27"},{"size":3081,"mtime":1608001171563,"results":"45","hashOfConfig":"27"},{"size":5649,"mtime":1608062653237,"results":"46","hashOfConfig":"27"},{"size":2479,"mtime":1608066910312,"results":"47","hashOfConfig":"27"},{"size":2855,"mtime":1608073133494,"results":"48","hashOfConfig":"27"},{"size":4606,"mtime":1608074154399,"results":"49","hashOfConfig":"27"},{"size":2587,"mtime":1608077784470,"results":"50","hashOfConfig":"27"},{"size":1923,"mtime":1608080106124,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},"gju65z",{"filePath":"56","messages":"57","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"55"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"55"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"55"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"55"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"55"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"55"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"55"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"55"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"55"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"55"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"55"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"55"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"55"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"115","messages":"116","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\index.js",["117"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'jotai'\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n",["118","119"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\App.js",["120","121","122","123","124","125","126","127","128","129","130","131","132"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Initialize.js",["133","134"],"import { store } from '../State/store';\r\nimport { ArchiveURL } from './urls';\r\nimport { \r\n\tColorfromGame, \r\n\tCreateURL, \r\n\tGetURL, \r\n\tIDfromURL, \r\n\tResultFromGame, \r\n\tTimeControlFromGame, \r\n\tTimeClassFromGame,\r\n\tDateFromGameSeconds } from './helpers';\r\nimport { Analyze, AnalyzeGame } from '../BusinessLogic/Analyze';\r\n\r\nexport const timeout = (ms = 5000) => { \r\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport const initializeState = () => {\r\n\t// check if less then 100 games\r\n\tif (store.getState().Games.length < 100) {\r\n\t\t// console.log(\"hellow?\")\r\n\r\n        GetURL(CreateURL(ArchiveURL, store.getState().UserName))\r\n\t\t\t.then((res, err) => {\r\n\t\t\t\t\t// primitive error handling\r\n\t\t\t\t\tif(err) { console.warn(err); return; }\r\n\t\t\t\t\telse if(res.data.status === 404) return;\r\n\r\n\t\t\t\t\tstore.getState().setGameArchives(res.data.archives)\t\t// think a synchronous call to update Archives\r\n\t\t\t\t\tconsole.log(store.getState().GameArchive)\t\t\t\t// prints out updated state\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn GameIDfromArchive();\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\r\n\t\t\t\tfor(let i = 0; i < 50; i++) {\r\n\t\t\t\t\tAnalyzeGame(store.getState().Games[i]);\r\n\t\t\t\t\tawait timeout(1000);\r\n\t\t\t\t}\r\n\t\t\t}).then(() => {\r\n\t\t\t\tconst tacticsObj = {\r\n\t\t\t\t\tfork: store.getState().fork,\r\n\t\t\t\t\tmate: store.getState().mate,\r\n\t\t\t\t\thanging: store.getState().hanging,\r\n\t\t\t\t\trelativePin: store.getState().relativePin,\r\n\t\t\t\t\tabsolutePin: store.getState().absolutePin,\r\n\t\t\t\t\ttrapped: store.getState().trapped,\r\n\t\t\t\t\tunderdefended: store.getState().underdefended,\r\n\t\t\t\t\twinningExchange: store.getState().winningExchange,\r\n\t\t\t\t\tskewer: store.getState().skewer,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(JSON.stringify(tacticsObj, null, '  '))\r\n\t\t\t\tstore.getState().setLoadingFalse();\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\n/**\r\n * @description Adds the GameIDs to GameID array from the archive\r\n * @returns {void} A promise  \r\n * @todo don't hardcode # of games\r\n */\r\nconst GameIDfromArchive = async () => {\r\n\t\tconsole.log(\"Current Store: \", store.getState())\r\n\t\tlet archives = store.getState().GameArchive;\r\n\t\tlet i = archives.length - 1;\r\n\t\tlet gamenum = store.getState().Games.length;\r\n\t\tlet games;\r\n\r\n\t\t// TESTS\r\n\t\t// 1. <100 games\r\n\t\t// 2. >100 games\r\n\t\t// 3. multiple archives\r\n\t\t// (async _ => {\r\n\t\t\twhile(archives[i] && i >= 0 && gamenum <= 100) { \r\n\t\t\t\tconsole.log(\"GM top loop: \", gamenum)\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(archives[i])\r\n\r\n\t\t\t\tawait GetURL(archives[i])\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t//  console.log(res.data)\r\n\t\t\t\t\t\tgames = res.data.games\r\n\r\n\t\t\t\t\t\t//  console.log(games.length)\r\n\r\n\t\t\t\t\t\tfor(let j = games.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\t// validation\r\n\t\t\t\t\t\t\tif(gamenum > 100) {\tbreak;\t}\t// break if exceed limit. In future not hardcode\r\n\t\t\t\t\t\t\tif(games[j].rules !== \"chess\") { continue; } // check if rules are chess or variant\r\n\r\n\t\t\t\t\t\t\tconst id = IDfromURL(games[j].url);\r\n\t\t\t\t\t\t\tconst color = ColorfromGame(games[j], store.getState().UserName);\r\n\t\t\t\t\t\t\tconst result = ResultFromGame(games[j], color);\r\n\t\t\t\t\t\t\tconst tc = TimeControlFromGame(games[j]);\r\n\t\t\t\t\t\t\tconst tclass = TimeClassFromGame(games[j]);\r\n\t\t\t\t\t\t\tconst date = DateFromGameSeconds(games[j].end_time);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!store.getState().Games.includes(id)) { \t// could implement binarysearch in the future\r\n\t\t\t\t\t\t\t\tstore.getState().AddGame(id, color, result, tc, tclass, date);\r\n\t\t\t\t\t\t\t\tgamenum += 1;\r\n\t\t\t\t\t\t\t\tstore.getState().SetNeedAnalysis();\t// performance optim: only do once\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// console.log(\"GN in loop: \", gamenum)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\ti--;\t\r\n\t\t\t}\r\n\t\t\t// console.log(\"gameids state: \", store.getState().Games)\r\n\r\n\t\t// Analyze();\r\n}","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\State\\store.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\urls.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\helpers.js",["135","136","137"],"import axios from \"axios\";\r\n\r\n/**\r\n * @param {string} url the incomplete url\r\n * @param {string | number} replacement the replacement to fill the url\r\n * @returns {string} the completed url\r\n */\r\nexport const CreateURL = (url, replacement) => {\r\n\treturn url.replace(\"{}\", replacement);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} url The URL to get a response from\r\n * @returns {promise} Promise with requested url\r\n */\r\nexport const GetURL = async (url) => {\r\n\treturn axios.get(url);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} url The URL with a Game ID in it \r\n * @returns {number} The game id\r\n * @throws Error if too many matches (!= 1)\r\n */\r\nexport const IDfromURL = (url) => {\r\n\tconst id = url.match(/\\d{1,13}/g)\r\n\r\n\tif(id.length !== 1) {\r\n\t\tthrow {\r\n\t\t\tmessage: \"IDfromURL to many matches\",\r\n\t\t\tobj: id\r\n\t\t} \r\n\t}\r\n\r\n\treturn Number(id[0])\r\n}\r\n\r\n/**\r\n * @param {string} username the players username\r\n * @param {object} gameObj The game object of a game\r\n */\r\nexport const ColorfromGame = (gameObj, uname) => {\r\n\tif(uname === gameObj.white.username) {\r\n\t\treturn \"white\";\r\n\t}\r\n\r\n\telse if(uname === gameObj.black.username) {\r\n\t\treturn \"black\";\r\n\t}\r\n\r\n\telse {\r\n\t\tthrow {\r\n\t\t\tmessage: \"Cannot find username in game. Perhaps this is the wrong game ID\",\r\n\t\t\tusername: uname,\r\n\t\t\twhite: gameObj.white.username,\r\n\t\t\tblack: gameObj.black.username\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const TimeControlFromGame = (gameObj) => {\r\n\treturn gameObj.time_control;\r\n}\r\n\r\nexport const TimeClassFromGame = (gameObj) => {\r\n\treturn gameObj.time_class;\r\n}\r\n\r\nconst dateWithTimeZone = (seconds) => {\r\n\tconst date = new Date(1970,0,1);\r\n\t\tdate.setSeconds(seconds)\r\n\t\r\n\tconst timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone\r\n\tif(timeZone === undefined || timeZone === null || !timeZone) {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tconst utcDate = new Date(date.toLocaleString('en-US', { timeZone: \"UTC\" }));\r\n\tconst tzDate = new Date(date.toLocaleString('en-US', { timeZone: timeZone }));\r\n\tconst offset = utcDate.getTime() - tzDate.getTime();\r\n\r\n\tdate.setTime( date.getTime() - offset );\r\n  \r\n\treturn date;\r\n};\r\n\r\nexport const DateFromGameSeconds = (seconds) => {\r\n\t\r\n\tconst d = dateWithTimeZone(seconds)\r\n\tconst formatted = `${d.getFullYear()}-${d.getMonth() + 1}-${d.getDate()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`\r\n\t\r\n\t// console.log(formatted);\r\n\treturn formatted;\r\n\t// return gameObj.end_time;\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} gameObj the game object of a game\r\n * @param {string} color the player's color\r\n */\r\nexport const ResultFromGame = (gameObj, color) => {\r\n\t// console.log(color)\r\n\tif(color !== \"white\" && color !== \"black\") {\r\n\t\tthrow {\r\n\t\t\tmessage: \"Not a valid color\",\r\n\t\t\tcolor: color\r\n\t\t}\r\n\t}\r\n\r\n\treturn gameObj[color].result;\r\n}\r\n\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\components\\LoadForm.js",["138"],"import React, { useState } from 'react';\r\nimport { store } from '../State/store';\r\n\r\nconst LoadForm = () => {\r\n    const [uname, setUname] = useState(\"\");\r\n\r\n    <form>\r\n        <input \r\n            type=\"text\" \r\n            value={uname} \r\n            onChange ={(e) => setUname(e.targe.value)} \r\n            placeholder=\"Player Name\" \r\n            name=\"username\"></input>\r\n        <button>Submit</button>\r\n\t</form>\r\n}\r\n\r\nexport default LoadForm;\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\Analyze.js",["139","140","141","142","143","144","145","146","147"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalyzeHelpers.js",["148","149","150","151","152","153","154","155","156","157","158","159","160"],"import { CreateURL, GetURL } from './helpers';\r\nimport { CorsProxy, GetAnalysisURL, NewAnalysisURL } from './urls'\r\nimport { store } from '../State/store'\r\n\r\n/**\r\n * \r\n * @param {string|number} id The game id\r\n * @returns {promise} The game data\r\n * @todo Need better error handling\r\n */\r\nexport const getGameData = async (id, time = 1) => {\r\n    // function input validation\r\n    ValidGameID(id);\r\n    if(time <= 0 || time >= 5) {\r\n        throw {\r\n            message: \"Invoked getGameData too many times\",\r\n            the_id: id,\r\n            the_time: time\r\n        }\r\n    }\r\n\r\n    return getGameAnalysis(id)\r\n            .then((res) => {\r\n                // console.log(\"Game data: \", res.data)\r\n\r\n                if(!res.data.data) {\r\n                    if(time === 1) {\r\n                        console.log(id);\r\n                        newAnalysis(id);\r\n                        return new Promise((resolve) => {\r\n                            setTimeout(() => { return resolve(getGameData(id,time+1))}, 61000)\r\n                        })\r\n                    }\r\n                    else if (time <= 3) {\r\n                        console.warn(`Tried to retrieve game ${id} ${time} times`)\r\n                        // if(time === 3) { newAnalysis(id); /* try to restart again */ }\r\n                        newAnalysis(id);\r\n                        \r\n                        return new Promise((resolve) => {\r\n                            setTimeout(() => { return resolve(getGameData(id,time+1))}, 61000)\r\n                        })\r\n                    }\r\n                    if (time === 4) {\r\n                        throw {\r\n                            message: `Could not retrieve game data got ${id} after 3 attempts`,\r\n                            response: res.data\r\n                        }\r\n                    }\r\n                }\r\n                // got data values\r\n                else {\r\n                    console.log(`got data for: ${id}`)\r\n                    return res.data.data.analysis;\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.warn(err.message)\r\n            });\r\n}\r\n\r\n/**\r\n * @description Opens window of the analysis report which should\r\n * start the analysis\r\n * @param {string|number} id The game id\r\n * @returns {void}\r\n */\r\nexport const newAnalysis = async ( id ) => {\r\n    ValidGameID(id);\r\n\r\n    return openWindow(CreateURL(NewAnalysisURL, id))\r\n}\r\n\r\n/**\r\n * @param {string} url opens window in new tab and closes tab after 5 seconds\r\n * @returns timer to close window\r\n * @todo add check if tab is null to handle the error\r\n */\r\nexport const openWindow = async ( url ) => {\r\n    if (typeof(url) !== \"string\") {\r\n        throw {\r\n            message: \"URL is not a valid string\",\r\n            type: typeof(url),\r\n            the_url: url\r\n        }\r\n    }\r\n\r\n    const tab = window.open(url, '_blank');\r\n    return setTimeout(() => tab.close(), 15000) // \r\n}\r\n\r\n/**\r\n * @param {number|string} id The id of the game\r\n * @returns {JSON} The json result of the request \r\n * @throws Error if id not a number\r\n */\r\nexport const getGameAnalysis = async ( id ) => {\r\n    // Check if input is valid\r\n    ValidGameID(id);\r\n\r\n    return GetURL(CreateURL(CorsProxy + GetAnalysisURL, id));\r\n}\r\n\r\n/**\r\n * \r\n * @param {number|string} id checks if the GameID is valid\r\n */\r\nexport const ValidGameID = (id) => {\r\n    if (Number(id) === NaN || Number(id) <= 1) {    // I believe 2 is the lowest game id\r\n        throw {\r\n            message: \"ID is not a valid number\",\r\n            type: typeof(id),\r\n            the_id: id\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} ply The ply to compare\r\n * @param {array} phaseArr The array of phases\r\n */\r\nexport const phase = (ply, phaseArr) => {\r\n    ply = Number(ply);\r\n    const numPhases = phaseArr.length;\r\n\r\n\r\n    if(ply === NaN || ply < 0) {\r\n        throw {\r\n            message: \"Invalid ply.\",\r\n            ply: ply\r\n        }\r\n    }\r\n\r\n\r\n    if(numPhases === 0 || ply < phaseArr[0]) {\r\n        return \"open\";\r\n    } else if(numPhases === 1 || ply < phaseArr[1]) {\r\n        return \"middle\";\r\n    } \r\n    \r\n    return \"end\";\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} ply The ply to compare\r\n * @param {number} total The total number of ply\r\n */\r\nexport const plyPercent = (ply, total) => {\r\n    ply = Number(ply)\r\n    total = Number(total)\r\n\r\n    if(ply === NaN || total === NaN) {\r\n        throw {\r\n            message: \"Invalid ply or total ply\",\r\n            ply: ply,\r\n            total: total\r\n        }\r\n    } else if(ply < 0 || total < 0) {\r\n        throw {\r\n            message: \"Ply cannot be negative\",\r\n            ply: ply,\r\n            total: total\r\n        }\r\n    }\r\n\r\n    if(total - 1 !== 0) {\r\n        return (ply / (total - 1)) * 100 // total positions includes start so -1\r\n    } \r\n    \r\n    return (ply / total) * 100\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {string} timecontrol The time control\r\n */\r\nexport const totalFromTC = (timecontrol) => {\r\n    return parseInt(timecontrol);\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} timecontrol The time control\r\n */\r\nexport const incFromTC = (timecontrol) => {\r\n    let increment = parseInt(timecontrol.match(/\\+\\d*/g));\r\n        increment = (increment) ? increment : 0;\r\n\r\n    return increment;\r\n}\r\n/**\r\n * \r\n * @param {array} data array of the time for each move\r\n * @param {number} ply The current ply\r\n * @param {string} timecontrol The time control of the game\r\n * @todo check if ply is valid\r\n */\r\nexport const calculateClockTime = (times, ply, timecontrol) => {\r\n    const total = totalFromTC(timecontrol);\r\n    const increment = incFromTC(timecontrol);\r\n\r\n    if(total === NaN || total <= 0 || increment < 0) {\r\n        throw {\r\n            message: \"Invalid time control or increment\",\r\n            total: total,\r\n            increment: increment\r\n        }\r\n    }\r\n\r\n    // if(ply) \r\n\r\n\r\n    let final = total;\r\n    // console.log(final)\r\n    // gives time NOT including the time for ply\r\n    // i.e. calculates time on clock on start of ply\r\n    for(let i = ply % 2; i < ply; i += 2) { \r\n        final = final - times[i] / 10 + increment;\r\n        // console.log(final, times[i] / 10, increment)\r\n    }\r\n\r\n    return final;\r\n} \r\n\r\n\r\nexport const SameTacticType = (actual, user) => {\r\n    const regex = \"\\\\b\" + user + \"\\\\b\";\r\n    const index = actual.toLowerCase().search(new RegExp(regex))\r\n\r\n    // console.log(regex, actual, index)\r\n\r\n    if (index !== -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n    // ele.type.toLowerCase().indexOf(new RegExp(\"\\b\" + name + \"\\b\",g)) !== -1\r\n}\r\n\r\n// in major need of a refactoring\r\nexport const UpdateTacticsState = (name, record) => {\r\n    name = name.toLowerCase();\r\n    // console.log(name)\r\n\r\n    if(SameTacticType(name, \"trapped piece\")) { \r\n        record.type.name = \"trapped\";\r\n        store.getState().addTactic(\"trapped\",record); return;\r\n    }\r\n\r\n    if(SameTacticType(name, \"skewer\")) { \r\n        record.type.name = \"skewer\";\r\n        store.getState().addTactic(\"skewer\",record); return;\r\n    }\r\n\r\n    if(SameTacticType(name,\"fork\")) {\r\n        // console.log(\"added fork\", record)\r\n        // console.log(record.type.type)\r\n        // console.log(re)\r\n        record.type.name = \"fork\"; \r\n        store.getState().addTactic(\"fork\", record); return; \r\n    }\r\n\r\n    if(SameTacticType(name,\"mate\") || SameTacticType(record.type.group, \"checkmate\")) { \r\n        record.type.name = \"mate\"; \r\n        store.getState().addTactic(\"mate\", record); return; \r\n    }\r\n    if(SameTacticType(name,\"material left undefended\") || SameTacticType(name, \"undefended material\")) { \r\n        // console.log(\"added hanging\", record)\r\n        record.type.name = \"hanging\";\r\n        store.getState().addTactic(\"hanging\", record); return; \r\n    }\r\n    \r\n\r\n    if(SameTacticType(name, \"under-defended material\")) {\r\n        record.type.name = \"underdefended\";\r\n        store.getState().addTactic(\"underdefended\", record); return;\r\n    }\r\n\r\n    if(SameTacticType(name, \"winning exchange\")) {\r\n        // console.log(\"adding winning exchange\")\r\n        record.type.name = \"winning exchange\";\r\n        store.getState().addTactic(\"winningExchange\", record); return;\r\n    }\r\n\r\n    if(name.includes(\"pin\")) { \r\n        if(record.type.group.includes(\"relative\") || record.type.type.includes(\"relative\")) {\r\n            record.type.name = \"relative pin\";\r\n            store.getState().addTactic(\"relativePin\", record); return; \r\n        }\r\n        record.type.name = \"absolute pin\";\r\n        store.getState().addTactic(\"absolutePin\", record); return; \r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @description Returns the opposite color of parameter\r\n * @param {string} color The initial color\r\n */\r\nexport const oppositeColor = (color) => {\r\n    // console.log(color.toLowerCase())\r\n    if(color.toLowerCase() !== \"white\" && color.toLowerCase() !== \"black\") {\r\n        console.warn({\r\n            message: \"Not a known color\",\r\n            color: color\r\n        })\r\n    }\r\n\r\n    return (color === \"white\") ? \"black\" : \"white\";\r\n}\r\n","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\AnalysisMetrics.js",["161","162"],"import { store } from '../State/store';\r\nimport { phase, plyPercent, calculateClockTime, totalFromTC, SameTacticType, UpdateTacticsState, oppositeColor } from './AnalyzeHelpers';\r\nimport { GetCurrentFen } from './fen';\r\nimport { CreateRecordProto, CreateTacticRecord } from './RecordPrototypes';\r\n\r\nexport const AddCaps = (data, gameObj) => {\r\n    const caps = data?.CAPS?.[gameObj.color]?.all;\r\n    if(caps === undefined) {\r\n        console.warn(`data.CAPS is undefined for ${gameObj.id} ${gameObj.color}`);\r\n        return;\r\n    }\r\n\r\n    store.getState().AddCAPStoGame(gameObj.id, caps)\r\n    // console.log(store.getState().Games)\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The returned data object\r\n * @param {object} gameObj The game object\r\n */\r\n\r\nexport const AnalyzeCastle = ( data, gameObj ) => {\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n    let plyCastled = data?.castled[gameObj.color];\r\n\r\n    if(plyCastled === undefined || plyCastled === null || !(typeof(plyCastled) === \"number\")) {\r\n        console.warn({\r\n            message: \"Ply castled is undefined (data.castled[gameObj.color])\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            plyCastled: plyCastled\r\n        })\r\n        return;\r\n    }\r\n\r\n    if(plyCastled != -1) { // -1 means did not castle\r\n        plyCastled++;   // correct for TRUE ply (data starts @ 0 when should start at 1)\r\n\r\n        record.castled = true;\r\n        record.ply = plyCastled;\r\n        record.plyPercent = plyPercent(plyCastled, data.totalPositions)\r\n        record.phase = phase(plyCastled, data.gamePhases);\r\n        \r\n        record.fen = GetCurrentFen(data, record.ply, record.id)\r\n    } else {\r\n        record.castled = false;\r\n    }\r\n\r\n    store.getState().addCastled(record);\r\n    console.log(store.getState().castled);\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {string} type \"inaccuracy, mistake, blunder\"\r\n * @param {object} data the analysis object\r\n * @param {object} gameObj the game object\r\n */\r\nexport const AnalyzeClassification = (type, data, gameObj) => {\r\n    // constants\r\n\tconst allowed = [\"blunder\", \"mistake\", \"inaccuracy\"];\r\n    const p = data?.positions;\r\n    const totalType = data?.tallies?.report?.[gameObj.color]?.[type];\r\n    \r\n    // input validation\r\n    if(!allowed.includes(type)) {\r\n        throw {\r\n            message: \"invalid move type\",\r\n            type: type\r\n        }\r\n    }\r\n\r\n    if(p === undefined || p === null || !p) {\r\n        console.warn({\r\n            message: \"positions is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            p: p\r\n        })\r\n        return;\r\n    }\r\n    if(totalType === undefined || totalType === null || !(typeof(totalType) === \"number\")) {\r\n        console.warn({\r\n            message: \"totalType is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            totalType: totalType\r\n        })\r\n        return;\r\n    }\r\n    \r\n\r\n    let count = 0;\r\n    let i = (p[0].color === gameObj.color) ? 0 : 1;\r\n    const recordProto = CreateRecordProto(data, gameObj);\r\n\r\n    if(totalType !== 0) {\r\n\r\n        while(count < totalType && i <= data.totalPositions - 2) {\r\n            if(p[i].classificationName === type) {\r\n                let record = {...recordProto};\r\n\r\n                // console.log(\"index: \", i, p[i], record)\r\n                record.score = p[i].playedMove.score;\r\n                record.difference = p[i].difference;\r\n                record.scenarios = p[i].scenarios;\r\n\r\n                record.ply = i + 1; // starts @ 0 so increment\r\n                record.plyPercent = plyPercent(record.ply, data.totalPositions)\r\n                record.phase = phase(record.ply, data.gamePhases);\r\n\r\n                record.fen = GetCurrentFen(data, record.ply, record.id)\r\n\r\n                if(data.time) {\r\n                    // console.log(\"id: \", gameObj.id, data)\r\n                    record.timeSpent = data.time.moves[i] / 10;\r\n                    record.timeToThink = calculateClockTime(data.time.moves, i, gameObj.timecontrol);\r\n                    record.timeToThinkPercent = record.timeToThink / totalFromTC(gameObj.timecontrol) * 100\r\n                }\r\n                // **************************** COME BACK AND CHECK THIS\r\n                // record.takeaway = {\r\n                //     type: data.TEP.takeaways[i]?.[0].type, // need to check\r\n                // }\r\n\r\n                // console.log(record);\r\n                store.getState().addMoveType(type, record);\r\n                count++;\r\n            }\r\n            i += 2;\r\n        }\r\n    }\r\n\r\n    console.log(store.getState()[type])\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The returned data object\r\n * @param {object} gameObj The game object\r\n */\r\nexport const AnalyzeOpenings = (data, gameObj) => {\r\n    if(data?.book === undefined) {\r\n        console.warn(`data.book undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n    if(data?.bookPly === undefined) {\r\n        console.warn(`data.book undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n\r\n    if(data?.CAPS?.[gameObj.color]?.all === undefined) {\r\n        console.warn(`data.CAPS is undefined for ${gameObj.id} ${gameObj.color}`)\r\n    }\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n          record.caps = data?.CAPS?.[gameObj.color]?.all;\r\n          record.name = data?.book?.name;\r\n          record.bookPly = data?.bookPly;\r\n          record.lastBookFEN = GetCurrentFen(data, record.bookPly + 1, gameObj.id)\r\n\r\n    store.getState().addOpening(record);\r\n    // console.log(store.getState().opening);\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {object} data The analysis data\r\n * @param {object} gameObj the game object\r\n */\r\nexport const AnalyzeGamePatterns = (data, gameObj) => {\r\n\r\n    const record = CreateRecordProto(data, gameObj);\r\n    const d = data?.TEP?.moves?.[gameObj.color] // rename to make easier to work with\r\n\r\n    if(d === undefined || d === null || !d) {\r\n        console.warn({\r\n            message: \"data.TEP.moves[gameObj.color] is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color\r\n        })\r\n        return;\r\n    }\r\n\r\n    for(const i in d) {\r\n\r\n        let p = [];\r\n        for(const j of d[i]) {\r\n            let phs = phase(j, data.gamePhases);\r\n\r\n            if(!p.includes(phs)) { p.push(phs); }\r\n            if(p.length === 3) break;   // shortcircuit if already complete\r\n        }\r\n\r\n        record[i] = {\r\n            plyPresent: i.length,\r\n            PercentPresent: plyPercent(i.length, data.totalPositions),\r\n            phase: p\r\n        }\r\n    }\r\n\r\n    store.getState().addGamePattern(record)\r\n    // console.log(store.getState().gamePatterns)\r\n}\r\n\r\n/**\r\n * \r\n * @param {object} data The data analysis object\r\n * @param {object} gameObj The game object\r\n */\r\nexport const AnalyzeAllTactics = (data, gameObj) => {\r\n    const KnownTacticsTypes = [\r\n        \"fork\", \"mate\",\"material left undefended\",\r\n        \"undefended material\",\"pin\",\"trapped piece\",\r\n        \"under-defended material\", \"winning exchange\",\r\n        \"skewer\"\r\n    ];\r\n\r\n    const p = data?.positions;\r\n    const t = data?.TEP?.takeaways;\r\n\r\n    if(p === undefined || p === null || !p) {\r\n        console.warn({\r\n            message: \"positions is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            p: p\r\n        })\r\n        return;\r\n    }\r\n\r\n    if(t === undefined || t === null || !t) {\r\n        console.warn({\r\n            message: \"takeaways is undefined\",\r\n            id: gameObj.id,\r\n            color: gameObj.color,\r\n            t: t\r\n        })\r\n        return;\r\n    }\r\n\r\n    for(let i in t) {\r\n        i = Number(i)\r\n\r\n        for(let j = 0; j < t[i].length; j++) {\r\n            const ele = t[i]?.[j]\r\n\r\n            // console.log(t, t.i, i, typeof(i), ele, ele?.color)\r\n            if (ele?.color === gameObj.color) {\r\n                // console.log(ele.type)\r\n\r\n                // warn if type is not in the known array\r\n                if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                    console.warn(\"Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                }\r\n\r\n                else {\r\n                    console.warn(ele.type)\r\n\r\n                    const record = CreateTacticRecord(i-1,ele,p,data,gameObj)\r\n                    // console.log(record);\r\n                    \r\n                    UpdateTacticsState(ele.type, record);\r\n                }\r\n            } \r\n            // NEEDS a BUNCH of refactoring, but at least it works\r\n            else if(oppositeColor(ele?.color) === gameObj.color && ele.class === \"blunders\") {\r\n                console.log(\"first\")\r\n                if(!t[i + 1] || t[i + 1].length === 0) {\r\n                    console.log(\"second\")\r\n\r\n                    // validation\r\n                    if(p[i] === undefined) {\r\n                        console.warn({\r\n                            message: \"p[i] doesn't exist\",\r\n                            i: i,\r\n                            id: gameObj.id\r\n                        })\r\n                        return;\r\n                    }\r\n\r\n                    if(p[i].playedMove.moveLan !== ele.eval.pv[0]) {\r\n                        console.log(\"third\")\r\n                        if(p[i].classificationName === \"blunder\" || p[i].classificationName === \"mistake\") {\r\n                            \r\n                                console.log(\"final\")\r\n\r\n                                // passed all the checks so now add this \r\n                                // warn if type is not in the known array\r\n                                if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                                    console.warn(\"Opp: Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                                }\r\n\r\n                                else {\r\n                                    console.log(\"fourth\")\r\n                                    console.warn(\"opp: \", ele.type)\r\n                    \r\n                                    const record = CreateTacticRecord(i,ele,p,data,gameObj,\"missed\")\r\n                                    console.log(record)\r\n\r\n                                    UpdateTacticsState(ele.type, record);\r\n                                } \r\n                        }\r\n        \r\n                    } else { // they are equal so you got the tactic\r\n                        console.log(\"final\")\r\n\r\n                        // passed all the checks so now add this \r\n                        // warn if type is not in the known array\r\n                        if(!KnownTacticsTypes.some((e) => SameTacticType(ele.type, e))) {\r\n                            console.warn(\"Opp: Not included\", ele.type, gameObj.id) // if gets here then it is a new type of tactic\r\n                        }\r\n\r\n                        else {\r\n                            console.log(\"fourth\")\r\n                            console.warn(\"opp: \", ele.type)\r\n            \r\n                            const record = CreateTacticRecord(i,ele,p,data,gameObj,\"got\")\r\n                            console.log(record)\r\n\r\n                            UpdateTacticsState(ele.type, record);\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const AnalyzeEndgames = (data, gameObj) => {\r\n    // const record = CreateRecordProto(data, gameObj);\r\n    const d = data?.TEP?.endgames; // rename to make easier to work with\r\n\r\n    if(d.length > 0) {\r\n        console.warn(d)\r\n    }\r\n}","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\RecordPrototypes.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\BusinessLogic\\fen.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Chart.js",[],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Scatter_CAPS.js",["163","164","165"],"import { useEffect, useState } from 'react'\r\n// import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ScatterChart, Scatter, Legend } from 'recharts';\r\nimport { ResponsiveScatterPlot } from '@nivo/scatterplot'\r\nimport { DateFromGame } from '../BusinessLogic/helpers';\r\nimport { store } from '../State/store'\r\n\r\n// const data = [{x: 1, y: 20}, {x: 2, y: 21},{x: 1.5, y: 15},{x: 4, y: 10},{x: 3, y: 25}];\r\n\r\n// function formatXAxis(tickItem) {\r\n//   // If using moment.js\r\n//   return moment(tickItem).format('MMM Do YY')\r\n// }\r\n\r\nconst CAPS_Scatter_Chart = () => {\r\n\r\n  const data = store(state => state.Games)\r\n  const [White, setWhite] = useState([]);\r\n  const [Black, setBlack] = useState([]);\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    setLoading(() => true)\r\n    setWhite([])\r\n    setBlack([])\r\n\r\n    for(let i = 0; i < data.length; i++) {\r\n      // console.log(i)\r\n      if(data[i].CAPS === undefined) { console.log(data[i].id)}\r\n      if(data[i].color === 'white') {\r\n        setWhite(prev => [...prev, {x:data[i].date, y:data[i].CAPS}])\r\n      }\r\n      else {\r\n        setBlack(prev => [...prev, {x:data[i].date, y:data[i].CAPS}])\r\n      }\r\n    }\r\n\r\n    console.log(White, Black)\r\n    setLoading(() => false)\r\n  }, [data])\r\n\r\n  \r\n  if(!loading) {\r\n    // console.log(White, Black)\r\n    return (\r\n        <ResponsiveScatterPlot \r\n          data={[\r\n            {id: 'white', data: White},\r\n            {id: 'black', data: Black}\r\n          ]}\r\n          margin={{ top: 60, right: 140, bottom: 70, left: 90 }}\r\n        xScale={{\r\n            type: 'time',\r\n            format: '%Y-%m-%d %H:%M:%S',\r\n            precision: 'minute',\r\n        }}\r\n          xFormat=\"time:%Y-%m-%d\"\r\n          yScale={{ type: 'linear', min: 0, max:100 }}\r\n          // yFormat={function(e){return e+\" cm\"}}\r\n          blendMode=\"multiply\"\r\n          axisTop={null}\r\n          axisRight={null}\r\n          axisBottom={{\r\n              orient: 'bottom',\r\n              tickSize: 5,\r\n              tickPadding: 5,\r\n              tickRotation: 0,\r\n              format: '%b %d',\r\n              tickValues: 'every 2 days'\r\n\r\n          }}\r\n          axisLeft={{\r\n              orient: 'left',\r\n              tickSize: 5,\r\n              tickPadding: 5,\r\n              tickRotation: 0,\r\n              legend: 'CAPS Score',\r\n              legendPosition: 'middle',\r\n              legendOffset: -60\r\n          }}\r\n          legends={[\r\n              {\r\n                  anchor: 'bottom-right',\r\n                  direction: 'column',\r\n                  justify: false,\r\n                  translateX: 130,\r\n                  translateY: 0,\r\n                  itemWidth: 100,\r\n                  itemHeight: 12,\r\n                  itemsSpacing: 5,\r\n                  itemDirection: 'left-to-right',\r\n                  symbolSize: 12,\r\n                  symbolShape: 'circle',\r\n                  effects: [\r\n                      {\r\n                          on: 'hover',\r\n                          style: {\r\n                              itemOpacity: 1\r\n                          }\r\n                      }\r\n                  ]\r\n              }\r\n          ]}\r\n        />\r\n        \r\n\r\n    )\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n};\r\n\r\nexport default CAPS_Scatter_Chart;\r\n\r\n{/* <ScatterChart width={600} height={400}>\r\n<CartesianGrid strokeDasharray=\"3 3\" />\r\n<YAxis type=\"number\" dataKey=\"CAPS\" name=\"CAPS\"/>\r\n<XAxis type=\"number\" domain={[\"dataMin\",\"dataMax\"]} dataKey=\"date\" name=\"Date\"/>\r\n<Tooltip />\r\n<Scatter name=\"White\" data={White} r={7} stroke=\"#000000\" legendType=\"circle\" fill=\"e5e4e2\"/>\r\n<Scatter name=\"Black\" data={Black} fill= \"#33475b\" />\r\n<Legend />\r\n</ScatterChart> */}\r\n\r\n  // useEffect(() => {\r\n  //   setWhite(() => [])\r\n  //   setBlack(() => [])\r\n  //   for(let i = 0; i < data.length; i++) {\r\n  //     // console.log(i)\r\n  //     if(data[i].color === \"white\") {\r\n  //       setWhite((arr) => [...arr, data[i]])\r\n  //       console.log(White, data[i])\r\n  //     }\r\n  //     else {\r\n  //       setBlack((arr) => [...arr, data[i]])\r\n  //       console.log(Black, data[i])\r\n  //     }\r\n  //   }\r\n  //   console.log(White)\r\n  //   console.log(Black)\r\n\r\n  // },[]);","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Histo_CAPS.js",["166","167","168","169","170","171","172"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Pie_Loss.js",["173","174","175","176"],"import React, { useState, useEffect } from 'react'\r\nimport { store } from '../State/store'\r\nimport { ResponsivePie } from '@nivo/pie'\r\n\r\nconst Pie_Reason4Loss = () => {\r\n\r\n    const data = store(state => state.Games)\r\n    const [reason, setReason] = useState({})\r\n\r\n    useEffect(() => {\r\n        const d = {}\r\n\r\n        for(let i = 0; i < data.length; i++) {\r\n            const type = data[i].result;\r\n            console.log(type)\r\n\r\n            if(type !== \"win\") {\r\n                if(d[type] === undefined) {\r\n                    console.log(reason)\r\n                    d[type] = 1;\r\n                } \r\n                else {\r\n                   d[type] += 1\r\n                }\r\n                console.log(d)\r\n            }\r\n        }\r\n\r\n        setReason(() => d)\r\n        // console.log(data, reason)\r\n    }, [data]);\r\n\r\n    if(1 === 1) {\r\n        const data = Object.keys(reason).map((e, i) => { \r\n            return {id: e, label: e, value: reason[e]}\r\n        })\r\n        console.log(data)\r\n\r\n        return (\r\n            <ResponsivePie \r\n                data={ data }\r\n                margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n                padAngle={3}\r\n                cornerRadius={2}\r\n                innerRadius={0.5}\r\n                sortByValue={true}\r\n                enableRadialLabels={true}\r\n                radialLabelsSkipAngle={10}\r\n                radialLabelsLinkHorizontalLength={8}\r\n                sliceLabelsSkipAngle={10}\r\n                sliceLabelsSkipAngle={10}\r\n                borderWidth={1}\r\n                borderColor=\"#a17a5b\"\r\n                theme={{\r\n                    fontSize: \"16px\",\r\n                    fontWeight: 'bold'\r\n                }}\r\n                borderColor={{ from: 'color', modifiers: [ [ 'darker', '1.4' ] ] }}\r\n                defs={[\r\n                    {\r\n                        id: 'dots',\r\n                        type: 'patternDots',\r\n                        background: 'inherit',\r\n                        color: 'rgba(255, 255, 255, 0.3)',\r\n                        size: 4,\r\n                        padding: 1,\r\n                        stagger: true\r\n                    },\r\n                    {\r\n                        id: 'lines',\r\n                        type: 'patternLines',\r\n                        background: 'inherit',\r\n                        color: 'rgba(255, 255, 255, 0.3)',\r\n                        rotation: -45,\r\n                        lineWidth: 6,\r\n                        spacing: 10\r\n                    }\r\n                ]}\r\n                fill={\r\n                    Object.keys(data).map((e) => {\r\n                        console.log(e)\r\n                        return {match: { id: data[e].id}, id: (e % 2 === 0) ? 'lines' : 'dots'}\r\n                    })\r\n                }\r\n                legends={[\r\n                    {\r\n                        anchor: 'right',\r\n                        direction: 'column',\r\n                        justify: false,\r\n                        translateX: 65,\r\n                        translateY: 0,\r\n                        itemsSpacing: 5,\r\n                        itemWidth: 100,\r\n                        itemHeight: 18,\r\n                        itemTextColor: '#999',\r\n                        itemDirection: 'left-to-right',\r\n                        itemOpacity: 1,\r\n                        symbolSize: 18,\r\n                        symbolShape: 'square',\r\n                        effects: [\r\n                            {\r\n                                on: 'hover',\r\n                                style: {\r\n                                    itemTextColor: '#000',\r\n                                    backgroundColor: '#FFFF00'\r\n                                }\r\n                            }\r\n                        ]\r\n                    }]}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Pie_Reason4Loss;","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Pie_Results.js",["177","178","179","180"],"import React, { useState, useEffect } from 'react'\r\nimport { store } from '../State/store'\r\nimport { ResponsivePie } from '@nivo/pie'\r\n\r\nconst Pie_Results = () => {\r\n    const data = store(state => state.Games)\r\n\r\n    const defaultState = {\"win\":0,\"draw\":0,\"loss\":0}\r\n    const [reason, setReason] = useState(defaultState)\r\n\r\n    useEffect(() => {\r\n        setReason(() => defaultState)\r\n\r\n        for(let i = 0; i < data.length; i++) {\r\n            const type = data[i].result;\r\n            console.log(type)\r\n\r\n            if(type === \"win\") {\r\n                setReason((e) => {\r\n                    return {...e, \"win\": e.win + 1}\r\n                })\r\n            } else if (type === \"draw\") {\r\n                setReason((e) => {\r\n                    return {...e, \"draw\": e.draw + 1}\r\n                })   \r\n            } else {\r\n                setReason((e) => {\r\n                    return {...e, \"loss\": e.loss + 1}\r\n                })\r\n            }\r\n        }\r\n\r\n        // console.log(data, reason)\r\n    }, [data]);\r\n\r\n    if(1 === 1) {\r\n        const data = Object.keys(reason).map((e, i) => { \r\n            return {id: e, label: e, value: reason[e]}\r\n        })\r\n        console.log(data)\r\n\r\n        return (\r\n            <ResponsivePie \r\n                data={ data }\r\n                margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n                padAngle={3}\r\n                cornerRadius={2}\r\n                innerRadius={0.5}\r\n                sortByValue={true}\r\n                enableRadialLabels={true}\r\n                radialLabelsSkipAngle={10}\r\n                radialLabelsLinkHorizontalLength={8}\r\n                sliceLabelsSkipAngle={10}\r\n                sliceLabelsSkipAngle={10}\r\n                borderWidth={1}\r\n                borderColor=\"#a17a5b\"\r\n                theme={{\r\n                    fontSize: \"16px\",\r\n                    fontWeight: 'bold'\r\n                }}\r\n                borderColor={{ from: 'color', modifiers: [ [ 'darker', '1.4' ] ] }}\r\n                defs={[\r\n                    {\r\n                        id: 'dots',\r\n                        type: 'patternDots',\r\n                        background: 'inherit',\r\n                        color: 'rgba(255, 255, 255, 0.3)',\r\n                        size: 4,\r\n                        padding: 1,\r\n                        stagger: true\r\n                    },\r\n                    {\r\n                        id: 'lines',\r\n                        type: 'patternLines',\r\n                        background: 'inherit',\r\n                        color: 'rgba(255, 255, 255, 0.3)',\r\n                        rotation: -45,\r\n                        lineWidth: 6,\r\n                        spacing: 10\r\n                    }\r\n                ]}\r\n                fill={\r\n                    Object.keys(data).map((e) => {\r\n                        console.log(e)\r\n                        return {match: { id: data[e].id}, id: (e % 2 === 0) ? 'lines' : 'dots'}\r\n                    })\r\n                }\r\n                legends={[\r\n                    {\r\n                        anchor: 'right',\r\n                        direction: 'column',\r\n                        justify: false,\r\n                        translateX: 65,\r\n                        translateY: 0,\r\n                        itemsSpacing: 5,\r\n                        itemWidth: 100,\r\n                        itemHeight: 18,\r\n                        itemTextColor: '#999',\r\n                        itemDirection: 'left-to-right',\r\n                        itemOpacity: 1,\r\n                        symbolSize: 18,\r\n                        symbolShape: 'square',\r\n                        effects: [\r\n                            {\r\n                                on: 'hover',\r\n                                style: {\r\n                                    itemTextColor: '#000',\r\n                                    backgroundColor: '#FFFF00'\r\n                                }\r\n                            }\r\n                        ]\r\n                    }]}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Pie_Results;","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_Tactics.js",["181","182","183","184","185"],"import React, { useState, useEffect } from 'react'\r\nimport { store } from '../State/store'\r\nimport { ResponsiveBar } from '@nivo/bar'\r\n\r\nconst Barchart_Tactics = () => {\r\n\r\n    const tactics = store((state) => {\r\n        return {\r\n            \"Win the Exchange\":state.winningExchange,\r\n            \"Underdefended Piece\":state.underdefended,\r\n            \"Trapped piece\":state.trapped,\r\n            \"Hanging Piece\":state.hanging,\r\n            \"Relative Pin\":state.relativePin,\r\n            \"Absolute Pin\":state.absolutePin,\r\n            Skewer:state.skewer,\r\n            Fork:state.fork,\r\n            \"Mate\":state.mate,\r\n        }\r\n    })\r\n\r\n    const [the_data, setThe_data] = useState([])\r\n    \r\n    useEffect(() => {\r\n        setThe_data(() => [])\r\n\r\n        const d = Object.keys(tactics).map((e) => {\r\n            const blundered = tactics[e].filter((obj) => obj.class === \"blunders\").length\r\n            const missed = tactics[e].filter((obj) => obj.class === \"missed\").length\r\n            const got = tactics[e].filter((obj) => obj.class === \"got\").length\r\n            const record = {\"tactic\": e}\r\n\r\n            // if(blundered !== 0) record.Blundered = blundered\r\n            // if(missed !== 0) record.Missed = missed\r\n            // if(got !== 0) record.Got = got\r\n            // console.log(record)\r\n            // return record\r\n            return {\r\n                \"tactic\": e,\r\n                \"Blundered\": tactics[e].filter((obj) => obj.class === \"blunders\").length || null,\r\n                \"Missed\": tactics[e].filter((obj) => obj.class === \"missed\").length || null,\r\n                \"Got\": tactics[e].filter((obj) => obj.class === \"got\").length || null\r\n            }\r\n        })\r\n        d.sort((a, b) => {\r\n            const result =  ((b.Blundered || 0) + (b.Missed || 0) + (b.Got || 0)) - ((a.Blundered || 0) + (a.Missed || 0) + (a.Got || 0))\r\n            // console.log(result)\r\n            return result\r\n        })\r\n        console.log(d)\r\n\r\n        setThe_data(() => d)\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <ResponsiveBar\r\n            data={\r\n                the_data.filter(obj => ((obj.Blundered || 0) + (obj.Missed || 0) + (obj.Got || 0) !== 0))\r\n            }\r\n            keys={['Blundered','Missed']}\r\n            indexBy=\"tactic\"\r\n            margin={{ top: 50, right: 130, bottom: 80, left: 60 }}\r\n            // groupMode=\"grouped\"\r\n            axisBottom={{\r\n                tickSize: 8,\r\n                tickPadding: 5,\r\n                tickRotation: -20,\r\n                legend: 'Tactic',\r\n                legendPosition: 'middle',\r\n                legendOffset: 70\r\n            }}\r\n            labelSkipHeight={20}\r\n            padding={0.25}\r\n            enableGridX\r\n            legends={[\r\n                {\r\n                    dataFrom: 'keys',\r\n                    anchor: 'bottom-right',\r\n                    direction: 'column',\r\n                    justify: false,\r\n                    translateX: 120,\r\n                    translateY: 0,\r\n                    itemsSpacing: 2,\r\n                    itemWidth: 100,\r\n                    itemHeight: 20,\r\n                    itemDirection: 'left-to-right',\r\n                    itemOpacity: 0.85,\r\n                    symbolSize: 20,\r\n                    effects: [\r\n                        {\r\n                            on: 'hover',\r\n                            style: {\r\n                                itemOpacity: 1\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            ]}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Barchart_Tactics","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_TacticsPhases.js",["186","187"],"import React, { useState, useEffect } from 'react'\r\nimport { store } from '../State/store'\r\nimport { ResponsiveBar } from '@nivo/bar'\r\n\r\nconst Barchart_TacticsPhases = () => {\r\n\r\n    const tactics = store((state) => {\r\n        return {\r\n            \"Win the Exchange\":state.winningExchange,\r\n            \"Underdefended Piece\":state.underdefended,\r\n            \"Trapped piece\":state.trapped,\r\n            \"Hanging Piece\":state.hanging,\r\n            \"Relative Pin\":state.relativePin,\r\n            \"Absolute Pin\":state.absolutePin,\r\n            Skewer:state.skewer,\r\n            Fork:state.fork,\r\n            \"Mate\":state.mate,\r\n        }\r\n    })\r\n    const defaultTactics = [{phase:\"Opening\"},{phase:\"Middle\"},{phase:\"Endgame\"}]\r\n    const [the_data, setThe_data] = useState(defaultTactics)\r\n    \r\n    useEffect(() => {\r\n        const d = defaultTactics;\r\n\r\n        Object.keys(tactics).map((e) => {\r\n            const opening = tactics[e].filter((obj) => obj.phase === \"open\").length\r\n            const middle = tactics[e].filter((obj) => obj.phase === \"middle\").length\r\n            const end = tactics[e].filter((obj) => obj.phase === \"end\").length\r\n\r\n            d[0][e] = opening\r\n            d[1][e] = middle\r\n            d[2][e] = end\r\n        })\r\n        // d.sort((a, b) => {\r\n        //     const result =  ((b.Blundered || 0) + (b.Missed || 0) + (b.Got || 0)) - ((a.Blundered || 0) + (a.Missed || 0) + (a.Got || 0))\r\n        //     // console.log(result)\r\n        //     return result\r\n        // })\r\n        console.log(d)\r\n\r\n        setThe_data(() => d)\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <ResponsiveBar\r\n            data={\r\n                the_data\r\n            }\r\n            keys={Object.keys(tactics)}\r\n            indexBy=\"phase\"\r\n            margin={{ top: 50, right: 150, bottom: 80, left: 30 }}\r\n            // groupMode=\"grouped\"\r\n            axisBottom={{\r\n                tickSize: 8,\r\n                tickPadding: 5,\r\n                tickRotation: -20,\r\n                legend: 'Tactic',\r\n                legendPosition: 'middle',\r\n                legendOffset: 70\r\n            }}\r\n            labelSkipHeight={20}\r\n            padding={0.25}\r\n            enableGridX\r\n            legends={[\r\n                {\r\n                    dataFrom: 'keys',\r\n                    anchor: 'bottom-right',\r\n                    direction: 'column',\r\n                    justify: false,\r\n                    translateX: 120,\r\n                    translateY: 0,\r\n                    itemsSpacing: 2,\r\n                    itemWidth: 100,\r\n                    itemHeight: 20,\r\n                    itemDirection: 'left-to-right',\r\n                    itemOpacity: 0.85,\r\n                    symbolSize: 20,\r\n                    effects: [\r\n                        {\r\n                            on: 'hover',\r\n                            style: {\r\n                                itemOpacity: 1\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            ]}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Barchart_TacticsPhases","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Sunburst_OpeningPercent.js",["188","189","190","191","192"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\opening.js",["193","194","195","196","197"],"import React, { useState, useEffect } from 'react'\r\nimport Sunburst_ECO from './Sunburst_ECO'\r\nimport { store } from '../../State/store'\r\nimport Barchart_Openings from '../Barchart_Openings'\r\n\r\n\r\nexport const Opening_Data = ({ type }) => {\r\n    // const defaultState = [{name:\"White\", children:[]}, {name:\"Black\",children:[]}]\r\n\r\n    const data = store(state => state.opening)\r\n    const [loading, setLoading] = useState(true)\r\n    const [white, setWhite] = useState([])\r\n    const [black, setBlack] = useState([])\r\n\r\n    useEffect(() => {\r\n        setLoading(() => true)\r\n        const w = {};\r\n        const b = {};\r\n\r\n        // console.log(data)\r\n        data.filter((obj) => obj.color.toLowerCase() === \"white\").map((e, i, arr) => {\r\n            if(w?.[e.eco]) {\r\n                w[e.eco].value += 1\r\n            } else {\r\n                w[e.eco] = {\r\n                    name: e.eco,\r\n                    value: 1,\r\n                    description: e.name,\r\n                    total: arr.length,\r\n                    won: 0,\r\n                    loss: 0,\r\n                }\r\n            }\r\n\r\n            if(e.won) w[e.eco].won += 1;\r\n            else w[e.eco].loss += 1\r\n        })\r\n\r\n        data.filter((obj) => obj.color.toLowerCase() === \"black\").map((e, i, arr) => {\r\n            // console.log(this)\r\n            if(b?.[e.eco]) {\r\n                b[e.eco].value += 1\r\n            } else {\r\n                b[e.eco] = {\r\n                    name: e.eco,\r\n                    value: 1,\r\n                    description: e.name,\r\n                    total: arr.length,\r\n                    won: 0,\r\n                    loss: 0\r\n                }\r\n            }\r\n\r\n            if(e.won) b[e.eco].won += 1;\r\n            else b[e.eco].loss += 1\r\n        })\r\n\r\n        setWhite(() => Object.values(w).sort((a, b) => b.value - a.value))\r\n        setBlack(() => Object.values(b).sort((a, b) => a.value - b.value))\r\n        setLoading(() => false)\r\n    }, [])\r\n\r\n\r\n    if(!loading) {\r\n        if(type.toLowerCase() === \"sunburst\") {\r\n            return (\r\n                <Sunburst_ECO white={white} black={black} />\r\n            )\r\n        } \r\n        else if(type.toLowerCase() === \"bar\" || type.toLowerCase() === 'barchart') {\r\n            return (\r\n                <Barchart_Openings white={white} black={black}/>\r\n            )\r\n        }\r\n        else {\r\n            return null\r\n        }\r\n    }\r\n    else {\r\n        return ''\r\n    }\r\n}\r\n\r\nexport default Opening_Data;","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Opening\\Sunburst_ECO.js",["198"],"import React from 'react'\r\nimport { ResponsiveSunburst } from '@nivo/sunburst'\r\nimport { useTheme } from '@nivo/core'\r\n\r\nconst customPalette = [\"#E8C1A0\",\"#F47560\",\"#F1E15B\",\"#E8A838\",\"#61CDBB\",\"#97E3D5\"]\r\nconst customPalette2 = [\"#a6cee3\", \"#1f78b4\", \"#b2df8a\", \"#33a02c\", \"#fb9a99\", \"#e31a1c\", \"#fdbf6f\", \"#ff7f00\", \"#cab2d6\", \"#6a3d9a\", \"#ffff99\", \"#b15928\"]\r\n\r\nconst pickCustomPalette = (palette) => {\r\n    const i = Math.floor(Math.random()*palette.length)\r\n    const color = palette[i]\r\n    // console.log(i, color)\r\n\r\n    return color;\r\n}\r\n\r\nconst pickWhiteBlack = (id) => {\r\n    if(id === \"White\") { \r\n        return \"#FFFFFF\" \r\n    }\r\n\r\n    return \"#000000\" \r\n}\r\n\r\nconst CustomTooltip = ({id, value, data}) => {\r\n    const theme = useTheme()\r\n    // console.log(nameLookUp)\r\n    return (\r\n        <div style={{ ...theme.tooltip.container}}>\r\n            <strong>Name:</strong> {data.description} <br />\r\n            <strong>ECO:</strong> {id} <br />\r\n            <strong>Played:</strong> {value} ({(value / data.total * 100).toFixed(1)}%) <br />\r\n            <strong>Won:</strong> {data.won}   <br />\r\n            <strong>Lost:</strong> {data.loss}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst Sunburst_ECO = ({white, black}) => {\r\n    return (\r\n        <ResponsiveSunburst\r\n            data={\r\n                {\r\n                    name: \"Openings\",\r\n                    children: [\r\n                        {\r\n                            name: \"White\", \r\n                            color:\"#FFFFFF\", \r\n                            children:white, \r\n                            description: \"White\", \r\n                            total:white.reduce((a,b) => (a+b.value), 0), \r\n                            won:white.reduce((a,b) => (a+b.won), 0),\r\n                            loss:white.reduce((a,b) => (a+b.loss), 0)\r\n                        },\r\n                        {\r\n                            name: \"Black\", \r\n                            color:\"#000000\", \r\n                            children:black, \r\n                            description: \"Black\", \r\n                            total:black.reduce((a,b)=> (a+b.value), 0), \r\n                            won:black.reduce((a,b) => (a+b.won), 0),\r\n                            loss:black.reduce((a,b) => (a+b.loss), 0)\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n            id=\"name\"\r\n            value=\"value\"\r\n            margin={{ top: 50, right: 130, bottom: 80, left: 60 }}\r\n            cornerRadius={4}\r\n            borderWidth={2}\r\n            colors={({ id }) => pickWhiteBlack(id)}\r\n            childColor={() => pickCustomPalette(customPalette2)}\r\n            animate={false}\r\n            motionConfig=\"gentle\"\r\n            isInteractive={true}\r\n            tooltip={CustomTooltip}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Sunburst_ECO;","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Barchart_Openings.js",["199","200","201","202"],"import React, { useState, useEffect } from 'react'\r\nimport { ResponsiveBar } from '@nivo/bar'\r\nimport { useTheme } from '@nivo/core'\r\n\r\nconst CustomTooltip = ({id, value, data}) => {\r\n    const theme = useTheme()\r\n    // console.log(nameLookUp)\r\n    return (\r\n        <div style={{ ...theme.tooltip.container, width: '300px',maxHeight:'200px'}}>\r\n            <strong>ECO:</strong> {data.eco} <br />\r\n            <strong>Name:</strong>\r\n                {data.name[0]}\r\n            <br />\r\n            <strong>Won:</strong> {data.Won || 0}   <br />\r\n            <strong>Lost:</strong> {data.Lost || 0}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst Barchart_Openings = ({ white, black }) => {\r\n    \r\n    const [data, setData] = useState({})\r\n    const [max, setMax] = useState(0)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setLoading(() => true)\r\n        console.log(\"!!!!\")\r\n        const d = {}\r\n\r\n        white.map((e) => {\r\n            // console.log(e)\r\n            const o = e.name.substring(0,2);\r\n            if(d[o]) {\r\n                d[o].Won += e.won || 0;\r\n                d[o].Lost += e.loss || 0;\r\n                if(d[o].name.indexOf(e.description) === -1) d[o].name.push(e.description);\r\n            } else {\r\n                d[o] = {eco: `${o}X`, name: [e.description], Won:e.won || 0, Lost:e.loss || 0}\r\n            }\r\n        })\r\n\r\n        black.map((e) => {\r\n            // console.log(e)\r\n            const o = e.name.substring(0,2);\r\n            if(d[o]) {\r\n                d[o].Won += (e.won || 0);\r\n                d[o].Lost += (e.loss || 0);\r\n                if(d[o].name.indexOf(e.description) === -1) d[o].name.push(e.description)\r\n            } else {\r\n                d[o] = {eco: `${o}X`, name: [e.description], Won:(e.won || 0), Lost:(e.loss || 0)}\r\n            }\r\n        })\r\n        \r\n        const final = Object.values(d)\r\n        let maxValue = max;\r\n        final.map((e) => {\r\n            if((e.Won || 0) + (e.Lost || 0) > maxValue)  {\r\n                maxValue = (e.Won || 0) + (e.Lost || 0);\r\n            }\r\n        })\r\n        \r\n        console.log(maxValue)\r\n        console.log(d)\r\n        setData(() => Object.values(d))\r\n        setMax(() => maxValue)\r\n\r\n        // console.log(Object.values(d))\r\n        setLoading(() => false)\r\n\r\n    },[]);\r\n\r\n    console.log(max, data)\r\n\r\n    if(!loading) {\r\n        return (\r\n            <ResponsiveBar\r\n                data={data.sort((a, b) => b.Won === a.Won ? b.Won + b.Lost - (a.Won + a.Lost) : b.Won - a.Won)}\r\n                keys={[ 'Won', 'Lost']}\r\n                indexBy=\"eco\"\r\n                margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\r\n                padding={0.3}\r\n                valueScale={{ type: 'linear' }}\r\n                indexScale={{ type: 'band', round: true }}\r\n                colors={{ scheme: 'nivo' }}\r\n                axisBottom={{\r\n                    tickSize: 5,\r\n                    // tickPadding: 5,\r\n                    tickRotation: -30,\r\n                    legend: 'Openings',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 40\r\n                }}\r\n                enableGridX\r\n                axisLeft={{\r\n                    tickValues:[...Array(max + 1).keys()]\r\n                }}\r\n                labelSkipHeight={12}\r\n                labelTextColor={{ from: '#000000', modifiers: [ [ 'darker', 1.6 ] ] }}\r\n                tooltip={CustomTooltip}\r\n                legends={[\r\n                    {\r\n                        dataFrom: 'keys',\r\n                        anchor: 'bottom-right',\r\n                        direction: 'column',\r\n                        justify: false,\r\n                        translateX: 120,\r\n                        translateY: 0,\r\n                        itemsSpacing: 2,\r\n                        itemWidth: 100,\r\n                        itemHeight: 20,\r\n                        itemDirection: 'left-to-right',\r\n                        itemOpacity: 0.85,\r\n                        symbolSize: 20,\r\n                        effects: [\r\n                            {\r\n                                on: 'hover',\r\n                                style: {\r\n                                    itemOpacity: 1\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                ]}\r\n                animate={false}\r\n                // motionStiffness={90}\r\n                // motionDamping={15}\r\n            />\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n \r\n}\r\n\r\nexport default Barchart_Openings;","C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\blunders.js",["203"],"C:\\Users\\Merlin\\Documents\\Coding\\ChessIntellect\\chess-dashboard\\src\\Charts\\Moves\\Histo_BlundersPly.js",["204","205"],{"ruleId":"206","severity":1,"message":"207","line":4,"column":10,"nodeType":"208","messageId":"209","endLine":4,"endColumn":18},{"ruleId":"210","replacedBy":"211"},{"ruleId":"212","replacedBy":"213"},{"ruleId":"206","severity":1,"message":"214","line":3,"column":8,"nodeType":"208","messageId":"209","endLine":3,"endColumn":16},{"ruleId":"206","severity":1,"message":"215","line":5,"column":8,"nodeType":"208","messageId":"209","endLine":5,"endColumn":20},{"ruleId":"206","severity":1,"message":"216","line":6,"column":8,"nodeType":"208","messageId":"209","endLine":6,"endColumn":18},{"ruleId":"206","severity":1,"message":"217","line":7,"column":8,"nodeType":"208","messageId":"209","endLine":7,"endColumn":23},{"ruleId":"206","severity":1,"message":"218","line":8,"column":8,"nodeType":"208","messageId":"209","endLine":8,"endColumn":19},{"ruleId":"206","severity":1,"message":"219","line":10,"column":8,"nodeType":"208","messageId":"209","endLine":10,"endColumn":24},{"ruleId":"206","severity":1,"message":"220","line":11,"column":8,"nodeType":"208","messageId":"209","endLine":11,"endColumn":30},{"ruleId":"206","severity":1,"message":"221","line":13,"column":8,"nodeType":"208","messageId":"209","endLine":13,"endColumn":20},{"ruleId":"206","severity":1,"message":"222","line":14,"column":8,"nodeType":"208","messageId":"209","endLine":14,"endColumn":30},{"ruleId":"206","severity":1,"message":"223","line":26,"column":22,"nodeType":"208","messageId":"209","endLine":26,"endColumn":36},{"ruleId":"206","severity":1,"message":"224","line":29,"column":8,"nodeType":"208","messageId":"209","endLine":29,"endColumn":15},{"ruleId":"206","severity":1,"message":"225","line":30,"column":8,"nodeType":"208","messageId":"209","endLine":30,"endColumn":18},{"ruleId":"226","severity":1,"message":"227","line":62,"column":27,"nodeType":"228","endLine":62,"endColumn":52},{"ruleId":"206","severity":1,"message":"229","line":12,"column":10,"nodeType":"208","messageId":"209","endLine":12,"endColumn":17},{"ruleId":"230","severity":1,"message":"231","line":82,"column":12,"nodeType":"232","messageId":"233","endLine":107,"endColumn":7},{"ruleId":"234","severity":1,"message":"235","line":31,"column":3,"nodeType":"236","messageId":"237","endLine":34,"endColumn":4},{"ruleId":"234","severity":1,"message":"235","line":54,"column":3,"nodeType":"236","messageId":"237","endLine":59,"endColumn":4},{"ruleId":"234","severity":1,"message":"235","line":107,"column":3,"nodeType":"236","messageId":"237","endLine":110,"endColumn":4},{"ruleId":"206","severity":1,"message":"238","line":2,"column":10,"nodeType":"208","messageId":"209","endLine":2,"endColumn":15},{"ruleId":"206","severity":1,"message":"239","line":1,"column":23,"nodeType":"208","messageId":"209","endLine":1,"endColumn":28},{"ruleId":"206","severity":1,"message":"240","line":1,"column":30,"nodeType":"208","messageId":"209","endLine":1,"endColumn":40},{"ruleId":"206","severity":1,"message":"238","line":2,"column":10,"nodeType":"208","messageId":"209","endLine":2,"endColumn":15},{"ruleId":"206","severity":1,"message":"241","line":4,"column":5,"nodeType":"208","messageId":"209","endLine":4,"endColumn":18},{"ruleId":"206","severity":1,"message":"242","line":6,"column":5,"nodeType":"208","messageId":"209","endLine":6,"endColumn":20},{"ruleId":"206","severity":1,"message":"243","line":7,"column":5,"nodeType":"208","messageId":"209","endLine":7,"endColumn":24},{"ruleId":"206","severity":1,"message":"244","line":8,"column":5,"nodeType":"208","messageId":"209","endLine":8,"endColumn":22},{"ruleId":"206","severity":1,"message":"245","line":9,"column":5,"nodeType":"208","messageId":"209","endLine":9,"endColumn":20},{"ruleId":"234","severity":1,"message":"235","line":25,"column":9,"nodeType":"236","messageId":"237","endLine":29,"endColumn":10},{"ruleId":"234","severity":1,"message":"235","line":15,"column":9,"nodeType":"236","messageId":"237","endLine":19,"endColumn":10},{"ruleId":"234","severity":1,"message":"235","line":44,"column":25,"nodeType":"236","messageId":"237","endLine":47,"endColumn":26},{"ruleId":"234","severity":1,"message":"235","line":80,"column":9,"nodeType":"236","messageId":"237","endLine":84,"endColumn":10},{"ruleId":"246","severity":1,"message":"247","line":108,"column":9,"nodeType":"248","messageId":"249","endLine":108,"endColumn":27},{"ruleId":"234","severity":1,"message":"235","line":109,"column":9,"nodeType":"236","messageId":"237","endLine":113,"endColumn":10},{"ruleId":"246","severity":1,"message":"247","line":127,"column":8,"nodeType":"248","messageId":"249","endLine":127,"endColumn":19},{"ruleId":"234","severity":1,"message":"235","line":128,"column":9,"nodeType":"236","messageId":"237","endLine":131,"endColumn":10},{"ruleId":"246","severity":1,"message":"247","line":153,"column":8,"nodeType":"248","messageId":"249","endLine":153,"endColumn":19},{"ruleId":"246","severity":1,"message":"247","line":153,"column":23,"nodeType":"248","messageId":"249","endLine":153,"endColumn":36},{"ruleId":"234","severity":1,"message":"235","line":154,"column":9,"nodeType":"236","messageId":"237","endLine":158,"endColumn":10},{"ruleId":"234","severity":1,"message":"235","line":160,"column":9,"nodeType":"236","messageId":"237","endLine":164,"endColumn":10},{"ruleId":"246","severity":1,"message":"247","line":204,"column":8,"nodeType":"248","messageId":"249","endLine":204,"endColumn":21},{"ruleId":"234","severity":1,"message":"235","line":205,"column":9,"nodeType":"236","messageId":"237","endLine":209,"endColumn":10},{"ruleId":"250","severity":1,"message":"251","line":38,"column":19,"nodeType":"248","messageId":"252","endLine":38,"endColumn":21},{"ruleId":"234","severity":1,"message":"235","line":70,"column":9,"nodeType":"236","messageId":"237","endLine":73,"endColumn":10},{"ruleId":"206","severity":1,"message":"253","line":4,"column":10,"nodeType":"208","messageId":"209","endLine":4,"endColumn":22},{"ruleId":"254","severity":1,"message":"255","line":39,"column":6,"nodeType":"256","endLine":39,"endColumn":12,"suggestions":"257"},{"ruleId":"258","severity":1,"message":"259","line":115,"column":1,"nodeType":"260","messageId":"261","endLine":123,"endColumn":20},{"ruleId":"206","severity":1,"message":"262","line":1,"column":10,"nodeType":"208","messageId":"209","endLine":1,"endColumn":19},{"ruleId":"206","severity":1,"message":"263","line":1,"column":21,"nodeType":"208","messageId":"209","endLine":1,"endColumn":29},{"ruleId":"206","severity":1,"message":"264","line":3,"column":10,"nodeType":"208","messageId":"209","endLine":3,"endColumn":23},{"ruleId":"206","severity":1,"message":"253","line":4,"column":10,"nodeType":"208","messageId":"209","endLine":4,"endColumn":22},{"ruleId":"206","severity":1,"message":"265","line":7,"column":10,"nodeType":"208","messageId":"209","endLine":7,"endColumn":19},{"ruleId":"206","severity":1,"message":"266","line":7,"column":21,"nodeType":"208","messageId":"209","endLine":7,"endColumn":35},{"ruleId":"206","severity":1,"message":"267","line":7,"column":59,"nodeType":"208","messageId":"209","endLine":7,"endColumn":72},{"ruleId":"254","severity":1,"message":"268","line":31,"column":8,"nodeType":"256","endLine":31,"endColumn":14,"suggestions":"269"},{"ruleId":"270","severity":1,"message":"271","line":33,"column":8,"nodeType":"248","messageId":"272","endLine":33,"endColumn":15},{"ruleId":"273","severity":1,"message":"274","line":51,"column":17,"nodeType":"275","endLine":51,"endColumn":42},{"ruleId":"273","severity":1,"message":"274","line":58,"column":17,"nodeType":"275","endLine":58,"endColumn":84},{"ruleId":"254","severity":1,"message":"276","line":34,"column":8,"nodeType":"256","endLine":34,"endColumn":14,"suggestions":"277"},{"ruleId":"270","severity":1,"message":"271","line":36,"column":8,"nodeType":"248","messageId":"272","endLine":36,"endColumn":15},{"ruleId":"273","severity":1,"message":"274","line":54,"column":17,"nodeType":"275","endLine":54,"endColumn":42},{"ruleId":"273","severity":1,"message":"274","line":61,"column":17,"nodeType":"275","endLine":61,"endColumn":84},{"ruleId":"206","severity":1,"message":"278","line":27,"column":19,"nodeType":"208","messageId":"209","endLine":27,"endColumn":28},{"ruleId":"206","severity":1,"message":"279","line":28,"column":19,"nodeType":"208","messageId":"209","endLine":28,"endColumn":25},{"ruleId":"206","severity":1,"message":"280","line":29,"column":19,"nodeType":"208","messageId":"209","endLine":29,"endColumn":22},{"ruleId":"206","severity":1,"message":"281","line":30,"column":19,"nodeType":"208","messageId":"209","endLine":30,"endColumn":25},{"ruleId":"254","severity":1,"message":"282","line":53,"column":8,"nodeType":"256","endLine":53,"endColumn":10,"suggestions":"283"},{"ruleId":"284","severity":1,"message":"285","line":26,"column":38,"nodeType":"232","messageId":"286","endLine":26,"endColumn":40},{"ruleId":"254","severity":1,"message":"287","line":44,"column":8,"nodeType":"256","endLine":44,"endColumn":10,"suggestions":"288"},{"ruleId":"206","severity":1,"message":"289","line":13,"column":12,"nodeType":"208","messageId":"209","endLine":13,"endColumn":22},{"ruleId":"284","severity":1,"message":"285","line":23,"column":83,"nodeType":"232","messageId":"286","endLine":23,"endColumn":85},{"ruleId":"284","severity":1,"message":"285","line":42,"column":83,"nodeType":"232","messageId":"286","endLine":42,"endColumn":85},{"ruleId":"254","severity":1,"message":"290","line":68,"column":8,"nodeType":"256","endLine":68,"endColumn":10,"suggestions":"291"},{"ruleId":"206","severity":1,"message":"292","line":70,"column":11,"nodeType":"208","messageId":"209","endLine":70,"endColumn":24},{"ruleId":"284","severity":1,"message":"285","line":21,"column":83,"nodeType":"232","messageId":"286","endLine":21,"endColumn":85},{"ruleId":"284","severity":1,"message":"285","line":39,"column":83,"nodeType":"232","messageId":"286","endLine":39,"endColumn":85},{"ruleId":"254","severity":1,"message":"290","line":61,"column":8,"nodeType":"256","endLine":61,"endColumn":10,"suggestions":"293"},{"ruleId":"226","severity":1,"message":"294","line":67,"column":17,"nodeType":"228","endLine":67,"endColumn":61},{"ruleId":"226","severity":1,"message":"295","line":72,"column":17,"nodeType":"228","endLine":72,"endColumn":65},{"ruleId":"206","severity":1,"message":"292","line":5,"column":7,"nodeType":"208","messageId":"209","endLine":5,"endColumn":20},{"ruleId":"284","severity":1,"message":"285","line":32,"column":23,"nodeType":"232","messageId":"286","endLine":32,"endColumn":25},{"ruleId":"284","severity":1,"message":"285","line":44,"column":23,"nodeType":"232","messageId":"286","endLine":44,"endColumn":25},{"ruleId":"284","severity":1,"message":"285","line":58,"column":23,"nodeType":"232","messageId":"286","endLine":58,"endColumn":25},{"ruleId":"254","severity":1,"message":"296","line":72,"column":7,"nodeType":"256","endLine":72,"endColumn":9,"suggestions":"297"},{"ruleId":"206","severity":1,"message":"267","line":2,"column":59,"nodeType":"208","messageId":"209","endLine":2,"endColumn":72},{"ruleId":"206","severity":1,"message":"265","line":2,"column":10,"nodeType":"208","messageId":"209","endLine":2,"endColumn":19},{"ruleId":"206","severity":1,"message":"266","line":2,"column":21,"nodeType":"208","messageId":"209","endLine":2,"endColumn":35},"no-unused-vars","'Provider' is defined but never used.","Identifier","unusedVar","no-native-reassign",["298"],"no-negated-in-lhs",["299"],"'LoadForm' is defined but never used.","'Scatter_CAPS' is defined but never used.","'Histo_CAPS' is defined but never used.","'Pie_Reason4Loss' is defined but never used.","'Pie_Results' is defined but never used.","'Barchart_Tactics' is defined but never used.","'Barchart_TacticsPhases' is defined but never used.","'Opening_Data' is defined but never used.","'Histogram_BlundersTime' is defined but never used.","'setInitialized' is assigned a value but never used.","'archive' is assigned a value but never used.","'gameID_arr' is assigned a value but never used.","react/jsx-pascal-case","Imported JSX component Histogram_BlundersPly must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","'Analyze' is defined but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'games', 'games', 'gamenum', 'games', 'games', 'games', 'games', 'games', 'games', 'games', 'gamenum'.","ArrowFunctionExpression","unsafeRefs","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'store' is defined but never used.","'phase' is defined but never used.","'plyPercent' is defined but never used.","'AnalyzeCastle' is defined but never used.","'AnalyzeOpenings' is defined but never used.","'AnalyzeGamePatterns' is defined but never used.","'AnalyzeAllTactics' is defined but never used.","'AnalyzeEndgames' is defined but never used.","use-isnan","Use the isNaN function to compare with NaN.","BinaryExpression","comparisonWithNaN","eqeqeq","Expected '!==' and instead saw '!='.","unexpected","'DateFromGame' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'Black' and 'White'. Either include them or remove the dependency array.","ArrayExpression",["300"],"no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","'useEffect' is defined but never used.","'useState' is defined but never used.","'ResponsiveBar' is defined but never used.","'Histogram' is defined but never used.","'withParentSize' is defined but never used.","'DensitySeries' is defined but never used.","React Hook useEffect has a missing dependency: 'reason'. Either include it or remove the dependency array.",["301"],"no-self-compare","Comparing to itself is potentially pointless.","comparingToSelf","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","React Hook useEffect has a missing dependency: 'defaultState'. Either include it or remove the dependency array.",["302"],"'blundered' is assigned a value but never used.","'missed' is assigned a value but never used.","'got' is assigned a value but never used.","'record' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'tactics'. Either include it or remove the dependency array.",["303"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","expectedInside","React Hook useEffect has missing dependencies: 'defaultTactics' and 'tactics'. Either include them or remove the dependency array.",["304"],"'nameLookUp' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'data'. Either include it or remove the dependency array.",["305"],"'customPalette' is assigned a value but never used.",["306"],"Imported JSX component Sunburst_ECO must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Barchart_Openings must be in PascalCase or SCREAMING_SNAKE_CASE","React Hook useEffect has missing dependencies: 'black', 'max', and 'white'. Either include them or remove the dependency array.",["307"],"no-global-assign","no-unsafe-negation",{"desc":"308","fix":"309"},{"desc":"310","fix":"311"},{"desc":"312","fix":"313"},{"desc":"314","fix":"315"},{"desc":"316","fix":"317"},{"desc":"318","fix":"319"},{"desc":"318","fix":"320"},{"desc":"321","fix":"322"},"Update the dependencies array to be: [Black, White, data]",{"range":"323","text":"324"},"Update the dependencies array to be: [data, reason]",{"range":"325","text":"326"},"Update the dependencies array to be: [data, defaultState]",{"range":"327","text":"328"},"Update the dependencies array to be: [tactics]",{"range":"329","text":"330"},"Update the dependencies array to be: [defaultTactics, tactics]",{"range":"331","text":"332"},"Update the dependencies array to be: [data]",{"range":"333","text":"334"},{"range":"335","text":"334"},"Update the dependencies array to be: [black, max, white]",{"range":"336","text":"337"},[1265,1271],"[Black, White, data]",[819,825],"[data, reason]",[1019,1025],"[data, defaultState]",[2007,2009],"[tactics]",[1574,1576],"[defaultTactics, tactics]",[2159,2161],"[data]",[1960,1962],[2321,2323],"[black, max, white]"]